import{a as Wt,w as Yt,x as Gt,r as be,y as Xt,z as qt,o as Zt,c as Qt,u as Jt,A as er,v as tr,j as Je,C as rr,B as nr}from"./index-rSRR66Z-.js";import{u as ir}from"./use-toast-OpVkSx33.js";import{u as or}from"./useMutation-YguPxb94.js";function sr(r){return Wt({...r,select:a=>r!=null&&r.select?r.select(a.context):a.context})}var _t={exports:{}},st={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/var dt;function ar(){return dt||(dt=1,function(r,a){(function(s,l){r.exports=l()})(Yt,function s(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},i=!l.document&&!!l.postMessage,o=l.IS_PAPA_WORKER||!1,L={},j=0,k={parse:function(u,c){var h=(c=c||{}).dynamicTyping||!1;if(D(h)&&(c.dynamicTypingFunction=h,h={}),c.dynamicTyping=h,c.transform=!!D(c.transform)&&c.transform,c.worker&&k.WORKERS_SUPPORTED){var _=function(){if(!k.WORKERS_SUPPORTED)return!1;var F=(W=l.URL||l.webkitURL||null,ne=s.toString(),k.BLOB_URL||(k.BLOB_URL=W.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))),N=new l.Worker(F),W,ne;return N.onmessage=Fe,N.id=j++,L[N.id]=N}();return _.userStep=c.step,_.userChunk=c.chunk,_.userComplete=c.complete,_.userError=c.error,c.step=D(c.step),c.chunk=D(c.chunk),c.complete=D(c.complete),c.error=D(c.error),delete c.worker,void _.postMessage({input:u,config:c,workerId:_.id})}var I=null;return k.NODE_STREAM_INPUT,typeof u=="string"?(u=function(F){return F.charCodeAt(0)===65279?F.slice(1):F}(u),I=c.download?new U(c):new we(c)):u.readable===!0&&D(u.read)&&D(u.on)?I=new ee(c):(l.File&&u instanceof File||u instanceof Object)&&(I=new Ee(c)),I.stream(u)},unparse:function(u,c){var h=!1,_=!0,I=",",F=`\r
`,N='"',W=N+N,ne=!1,B=null,ce=!1;(function(){if(typeof c=="object"){if(typeof c.delimiter!="string"||k.BAD_DELIMITERS.filter(function(H){return c.delimiter.indexOf(H)!==-1}).length||(I=c.delimiter),(typeof c.quotes=="boolean"||typeof c.quotes=="function"||Array.isArray(c.quotes))&&(h=c.quotes),typeof c.skipEmptyLines!="boolean"&&typeof c.skipEmptyLines!="string"||(ne=c.skipEmptyLines),typeof c.newline=="string"&&(F=c.newline),typeof c.quoteChar=="string"&&(N=c.quoteChar),typeof c.header=="boolean"&&(_=c.header),Array.isArray(c.columns)){if(c.columns.length===0)throw new Error("Option columns is empty");B=c.columns}c.escapeChar!==void 0&&(W=c.escapeChar+N),(typeof c.escapeFormulae=="boolean"||c.escapeFormulae instanceof RegExp)&&(ce=c.escapeFormulae instanceof RegExp?c.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var K=new RegExp(xe(N),"g");if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return Oe(null,u,ne);if(typeof u[0]=="object")return Oe(B||Object.keys(u[0]),u,ne)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||B),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),Oe(u.fields||[],u.data||[],ne);throw new Error("Unable to serialize unrecognized input");function Oe(H,ie,Se){var te="";typeof H=="string"&&(H=JSON.parse(H)),typeof ie=="string"&&(ie=JSON.parse(ie));var ue=Array.isArray(H)&&0<H.length,de=!Array.isArray(ie[0]);if(ue&&_){for(var fe=0;fe<H.length;fe++)0<fe&&(te+=I),te+=oe(H[fe],fe);0<ie.length&&(te+=F)}for(var $=0;$<ie.length;$++){var q=ue?H.length:ie[$].length,se=!1,me=ue?Object.keys(ie[$]).length===0:ie[$].length===0;if(Se&&!ue&&(se=Se==="greedy"?ie[$].join("").trim()==="":ie[$].length===1&&ie[$][0].length===0),Se==="greedy"&&ue){for(var Q=[],Ce=0;Ce<q;Ce++){var le=de?H[Ce]:Ce;Q.push(ie[$][le])}se=Q.join("").trim()===""}if(!se){for(var n=0;n<q;n++){0<n&&!me&&(te+=I);var v=ue&&de?H[n]:n;te+=oe(ie[$][v],n)}$<ie.length-1&&(!Se||0<q&&!me)&&(te+=F)}}return te}function oe(H,ie){if(H==null)return"";if(H.constructor===Date)return JSON.stringify(H).slice(1,25);var Se=!1;ce&&typeof H=="string"&&ce.test(H)&&(H="'"+H,Se=!0);var te=H.toString().replace(K,W);return(Se=Se||h===!0||typeof h=="function"&&h(H,ie)||Array.isArray(h)&&h[ie]||function(ue,de){for(var fe=0;fe<de.length;fe++)if(-1<ue.indexOf(de[fe]))return!0;return!1}(te,k.BAD_DELIMITERS)||-1<te.indexOf(I)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?N+te+N:te}}};if(k.RECORD_SEP="",k.UNIT_SEP="",k.BYTE_ORDER_MARK="\uFEFF",k.BAD_DELIMITERS=["\r",`
`,'"',k.BYTE_ORDER_MARK],k.WORKERS_SUPPORTED=!i&&!!l.Worker,k.NODE_STREAM_INPUT=1,k.LocalChunkSize=10485760,k.RemoteChunkSize=5242880,k.DefaultDelimiter=",",k.Parser=je,k.ParserHandle=Te,k.NetworkStreamer=U,k.FileStreamer=Ee,k.StringStreamer=we,k.ReadableStreamStreamer=ee,l.jQuery){var E=l.jQuery;E.fn.parse=function(u){var c=u.config||{},h=[];return this.each(function(F){if(!(E(this).prop("tagName").toUpperCase()==="INPUT"&&E(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var N=0;N<this.files.length;N++)h.push({file:this.files[N],inputElem:this,instanceConfig:E.extend({},c)})}),_(),this;function _(){if(h.length!==0){var F,N,W,ne,B=h[0];if(D(u.before)){var ce=u.before(B.file,B.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return F="AbortError",N=B.file,W=B.inputElem,ne=ce.reason,void(D(u.error)&&u.error({name:F},N,W,ne));if(ce.action==="skip")return void I();typeof ce.config=="object"&&(B.instanceConfig=E.extend(B.instanceConfig,ce.config))}else if(ce==="skip")return void I()}var K=B.instanceConfig.complete;B.instanceConfig.complete=function(Oe){D(K)&&K(Oe,B.file,B.inputElem),I()},k.parse(B.file,B.instanceConfig)}else D(u.complete)&&u.complete()}function I(){h.splice(0,1),_()}}}function P(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(c){var h=M(c);h.chunkSize=parseInt(h.chunkSize),c.step||c.chunk||(h.chunkSize=null),this._handle=new Te(h),(this._handle.streamer=this)._config=h}).call(this,u),this.parseChunk=function(c,h){if(this.isFirstChunk&&D(this._config.beforeFirstChunk)){var _=this._config.beforeFirstChunk(c);_!==void 0&&(c=_)}this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+c;this._partialLine="";var F=this._handle.parse(I,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var N=F.meta.cursor;this._finished||(this._partialLine=I.substring(N-this._baseIndex),this._baseIndex=N),F&&F.data&&(this._rowCount+=F.data.length);var W=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)l.postMessage({results:F,workerId:k.WORKER_ID,finished:W});else if(D(this._config.chunk)&&!h){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);F=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!W||!D(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(c){D(this._config.error)?this._config.error(c):o&&this._config.error&&l.postMessage({workerId:k.WORKER_ID,error:c,finished:!1})}}function U(u){var c;(u=u||{}).chunkSize||(u.chunkSize=k.RemoteChunkSize),P.call(this,u),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(c=new XMLHttpRequest,this._config.withCredentials&&(c.withCredentials=this._config.withCredentials),i||(c.onload=S(this._chunkLoaded,this),c.onerror=S(this._chunkError,this)),c.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var h=this._config.downloadRequestHeaders;for(var _ in h)c.setRequestHeader(_,h[_])}if(this._config.chunkSize){var I=this._start+this._config.chunkSize-1;c.setRequestHeader("Range","bytes="+this._start+"-"+I)}try{c.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&c.status===0&&this._chunkError()}},this._chunkLoaded=function(){c.readyState===4&&(c.status<200||400<=c.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:c.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(h){var _=h.getResponseHeader("Content-Range");return _===null?-1:parseInt(_.substring(_.lastIndexOf("/")+1))}(c),this.parseChunk(c.responseText)))},this._chunkError=function(h){var _=c.statusText||h;this._sendError(new Error(_))}}function Ee(u){var c,h;(u=u||{}).chunkSize||(u.chunkSize=k.LocalChunkSize),P.call(this,u);var _=typeof FileReader<"u";this.stream=function(I){this._input=I,h=I.slice||I.webkitSlice||I.mozSlice,_?((c=new FileReader).onload=S(this._chunkLoaded,this),c.onerror=S(this._chunkError,this)):c=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input;if(this._config.chunkSize){var F=Math.min(this._start+this._config.chunkSize,this._input.size);I=h.call(I,this._start,F)}var N=c.readAsText(I,this._config.encoding);_||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(c.error)}}function we(u){var c;P.call(this,u=u||{}),this.stream=function(h){return c=h,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var h,_=this._config.chunkSize;return _?(h=c.substring(0,_),c=c.substring(_)):(h=c,c=""),this._finished=!c,this.parseChunk(h)}}}function ee(u){P.call(this,u=u||{});var c=[],h=!0,_=!1;this.pause=function(){P.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){P.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&c.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),c.length?this.parseChunk(c.shift()):h=!0},this._streamData=S(function(I){try{c.push(typeof I=="string"?I:I.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(c.shift()))}catch(F){this._streamError(F)}},this),this._streamError=S(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=S(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Te(u){var c,h,_,I=Math.pow(2,53),F=-I,N=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,B=0,ce=0,K=!1,Oe=!1,oe=[],H={data:[],errors:[],meta:{}};if(D(u.step)){var ie=u.step;u.step=function($){if(H=$,ue())te();else{if(te(),H.data.length===0)return;B+=$.data.length,u.preview&&B>u.preview?h.abort():(H.data=H.data[0],ie(H,ne))}}}function Se($){return u.skipEmptyLines==="greedy"?$.join("").trim()==="":$.length===1&&$[0].length===0}function te(){return H&&_&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+k.DefaultDelimiter+"'"),_=!1),u.skipEmptyLines&&(H.data=H.data.filter(function($){return!Se($)})),ue()&&function(){if(!H)return;function $(se,me){D(u.transformHeader)&&(se=u.transformHeader(se,me)),oe.push(se)}if(Array.isArray(H.data[0])){for(var q=0;ue()&&q<H.data.length;q++)H.data[q].forEach($);H.data.splice(0,1)}else H.data.forEach($)}(),function(){if(!H||!u.header&&!u.dynamicTyping&&!u.transform)return H;function $(se,me){var Q,Ce=u.header?{}:[];for(Q=0;Q<se.length;Q++){var le=Q,n=se[Q];u.header&&(le=Q>=oe.length?"__parsed_extra":oe[Q]),u.transform&&(n=u.transform(n,le)),n=de(le,n),le==="__parsed_extra"?(Ce[le]=Ce[le]||[],Ce[le].push(n)):Ce[le]=n}return u.header&&(Q>oe.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+oe.length+" fields but parsed "+Q,ce+me):Q<oe.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+oe.length+" fields but parsed "+Q,ce+me)),Ce}var q=1;return!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map($),q=H.data.length):H.data=$(H.data,0),u.header&&H.meta&&(H.meta.fields=oe),ce+=q,H}()}function ue(){return u.header&&oe.length===0}function de($,q){return se=$,u.dynamicTypingFunction&&u.dynamicTyping[se]===void 0&&(u.dynamicTyping[se]=u.dynamicTypingFunction(se)),(u.dynamicTyping[se]||u.dynamicTyping)===!0?q==="true"||q==="TRUE"||q!=="false"&&q!=="FALSE"&&(function(me){if(N.test(me)){var Q=parseFloat(me);if(F<Q&&Q<I)return!0}return!1}(q)?parseFloat(q):W.test(q)?new Date(q):q===""?null:q):q;var se}function fe($,q,se,me){var Q={type:$,code:q,message:se};me!==void 0&&(Q.row=me),H.errors.push(Q)}this.parse=function($,q,se){var me=u.quoteChar||'"';if(u.newline||(u.newline=function(le,n){le=le.substring(0,1048576);var v=new RegExp(xe(n)+"([^]*?)"+xe(n),"gm"),g=(le=le.replace(v,"")).split("\r"),C=le.split(`
`),O=1<C.length&&C[0].length<g[0].length;if(g.length===1||O)return`
`;for(var y=0,b=0;b<g.length;b++)g[b][0]===`
`&&y++;return y>=g.length/2?`\r
`:"\r"}($,me)),_=!1,u.delimiter)D(u.delimiter)&&(u.delimiter=u.delimiter($),H.meta.delimiter=u.delimiter);else{var Q=function(le,n,v,g,C){var O,y,b,p;C=C||[",","	","|",";",k.RECORD_SEP,k.UNIT_SEP];for(var m=0;m<C.length;m++){var w=C[m],x=0,T=0,A=0;b=void 0;for(var V=new je({comments:g,delimiter:w,newline:n,preview:10}).parse(le),Y=0;Y<V.data.length;Y++)if(v&&Se(V.data[Y]))A++;else{var X=V.data[Y].length;T+=X,b!==void 0?0<X&&(x+=Math.abs(X-b),b=X):b=X}0<V.data.length&&(T/=V.data.length-A),(y===void 0||x<=y)&&(p===void 0||p<T)&&1.99<T&&(y=x,O=w,p=T)}return{successful:!!(u.delimiter=O),bestDelimiter:O}}($,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess);Q.successful?u.delimiter=Q.bestDelimiter:(_=!0,u.delimiter=k.DefaultDelimiter),H.meta.delimiter=u.delimiter}var Ce=M(u);return u.preview&&u.header&&Ce.preview++,c=$,h=new je(Ce),H=h.parse(c,q,se),te(),K?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,h.abort(),c=D(u.chunk)?"":c.substring(h.getCharIndex())},this.resume=function(){ne.streamer._halted?(K=!1,ne.streamer.parseChunk(c,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return Oe},this.abort=function(){Oe=!0,h.abort(),H.meta.aborted=!0,D(u.complete)&&u.complete(H),c=""}}function xe(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function je(u){var c,h=(u=u||{}).delimiter,_=u.newline,I=u.comments,F=u.step,N=u.preview,W=u.fastMode,ne=c=u.quoteChar===void 0||u.quoteChar===null?'"':u.quoteChar;if(u.escapeChar!==void 0&&(ne=u.escapeChar),(typeof h!="string"||-1<k.BAD_DELIMITERS.indexOf(h))&&(h=","),I===h)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<k.BAD_DELIMITERS.indexOf(I))&&(I=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var B=0,ce=!1;this.parse=function(K,Oe,oe){if(typeof K!="string")throw new Error("Input must be a string");var H=K.length,ie=h.length,Se=_.length,te=I.length,ue=D(F),de=[],fe=[],$=[],q=B=0;if(!K)return z();if(u.header&&!Oe){var se=K.split(_)[0].split(h),me=[],Q={},Ce=!1;for(var le in se){var n=se[le];D(u.transformHeader)&&(n=u.transformHeader(n,le));var v=n,g=Q[n]||0;for(0<g&&(Ce=!0,v=n+"_"+g),Q[n]=g+1;me.includes(v);)v=v+"_"+g;me.push(v)}if(Ce){var C=K.split(_);C[0]=me.join(h),K=C.join(_)}}if(W||W!==!1&&K.indexOf(c)===-1){for(var O=K.split(_),y=0;y<O.length;y++){if($=O[y],B+=$.length,y!==O.length-1)B+=_.length;else if(oe)return z();if(!I||$.substring(0,te)!==I){if(ue){if(de=[],A($.split(h)),ae(),ce)return z()}else A($.split(h));if(N&&N<=y)return de=de.slice(0,N),z(!0)}}return z()}for(var b=K.indexOf(h,B),p=K.indexOf(_,B),m=new RegExp(xe(ne)+xe(c),"g"),w=K.indexOf(c,B);;)if(K[B]!==c)if(I&&$.length===0&&K.substring(B,B+te)===I){if(p===-1)return z();B=p+Se,p=K.indexOf(_,B),b=K.indexOf(h,B)}else if(b!==-1&&(b<p||p===-1))$.push(K.substring(B,b)),B=b+ie,b=K.indexOf(h,B);else{if(p===-1)break;if($.push(K.substring(B,p)),X(p+Se),ue&&(ae(),ce))return z();if(N&&de.length>=N)return z(!0)}else for(w=B,B++;;){if((w=K.indexOf(c,w+1))===-1)return oe||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:B}),Y();if(w===H-1)return Y(K.substring(B,w).replace(m,c));if(c!==ne||K[w+1]!==ne){if(c===ne||w===0||K[w-1]!==ne){b!==-1&&b<w+1&&(b=K.indexOf(h,w+1)),p!==-1&&p<w+1&&(p=K.indexOf(_,w+1));var x=V(p===-1?b:Math.min(b,p));if(K.substr(w+1+x,ie)===h){$.push(K.substring(B,w).replace(m,c)),K[B=w+1+x+ie]!==c&&(w=K.indexOf(c,B)),b=K.indexOf(h,B),p=K.indexOf(_,B);break}var T=V(p);if(K.substring(w+1+T,w+1+T+Se)===_){if($.push(K.substring(B,w).replace(m,c)),X(w+1+T+Se),b=K.indexOf(h,B),w=K.indexOf(c,B),ue&&(ae(),ce))return z();if(N&&de.length>=N)return z(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:B}),w++}}else w++}return Y();function A(pe){de.push(pe),q=B}function V(pe){var he=0;if(pe!==-1){var ge=K.substring(w+1,pe);ge&&ge.trim()===""&&(he=ge.length)}return he}function Y(pe){return oe||(pe===void 0&&(pe=K.substring(B)),$.push(pe),B=H,A($),ue&&ae()),z()}function X(pe){B=pe,A($),$=[],p=K.indexOf(_,B)}function z(pe){return{data:de,errors:fe,meta:{delimiter:h,linebreak:_,aborted:ce,truncated:!!pe,cursor:q+(Oe||0)}}}function ae(){F(z()),de=[],fe=[]}},this.abort=function(){ce=!0},this.getCharIndex=function(){return B}}function Fe(u){var c=u.data,h=L[c.workerId],_=!1;if(c.error)h.userError(c.error,c.file);else if(c.results&&c.results.data){var I={abort:function(){_=!0,Ae(c.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Le,resume:Le};if(D(h.userStep)){for(var F=0;F<c.results.data.length&&(h.userStep({data:c.results.data[F],errors:c.results.errors,meta:c.results.meta},I),!_);F++);delete c.results}else D(h.userChunk)&&(h.userChunk(c.results,I,c.file),delete c.results)}c.finished&&!_&&Ae(c.workerId,c.results)}function Ae(u,c){var h=L[u];D(h.userComplete)&&h.userComplete(c),h.terminate(),delete L[u]}function Le(){throw new Error("Not implemented.")}function M(u){if(typeof u!="object"||u===null)return u;var c=Array.isArray(u)?[]:{};for(var h in u)c[h]=M(u[h]);return c}function S(u,c){return function(){u.apply(c,arguments)}}function D(u){return typeof u=="function"}return o&&(l.onmessage=function(u){var c=u.data;if(k.WORKER_ID===void 0&&c&&(k.WORKER_ID=c.workerId),typeof c.input=="string")l.postMessage({workerId:k.WORKER_ID,results:k.parse(c.input,c.config),finished:!0});else if(l.File&&c.input instanceof File||c.input instanceof Object){var h=k.parse(c.input,c.config);h&&l.postMessage({workerId:k.WORKER_ID,results:h,finished:!0})}}),(U.prototype=Object.create(P.prototype)).constructor=U,(Ee.prototype=Object.create(P.prototype)).constructor=Ee,(we.prototype=Object.create(we.prototype)).constructor=we,(ee.prototype=Object.create(P.prototype)).constructor=ee,k})}(st)),st.exports}var wt={exports:{}},lr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cr=lr,ur=cr;function Tt(){}function It(){}It.resetWarningCache=Tt;var fr=function(){function r(l,i,o,L,j,k){if(k!==ur){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function a(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:It,resetWarningCache:Tt};return s.PropTypes=s,s};wt.exports=fr();var dr=wt.exports;const ye=Gt(dr);function $e(r,a,s,l){function i(o){return o instanceof s?o:new s(function(L){L(o)})}return new(s||(s=Promise))(function(o,L){function j(P){try{E(l.next(P))}catch(U){L(U)}}function k(P){try{E(l.throw(P))}catch(U){L(U)}}function E(P){P.done?o(P.value):i(P.value).then(j,k)}E((l=l.apply(r,a||[])).next())})}function Ke(r,a){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},l,i,o,L;return L={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function j(E){return function(P){return k([E,P])}}function k(E){if(l)throw new TypeError("Generator is already executing.");for(;L&&(L=0,E[0]&&(s=0)),s;)try{if(l=1,i&&(o=E[0]&2?i.return:E[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,E[1])).done)return o;switch(i=0,o&&(E=[E[0]&2,o.value]),E[0]){case 0:case 1:o=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,i=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!o||E[1]>o[0]&&E[1]<o[3])){s.label=E[1];break}if(E[0]===6&&s.label<o[1]){s.label=o[1],o=E;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(E);break}o[2]&&s.ops.pop(),s.trys.pop();continue}E=a.call(r,s)}catch(P){E=[6,P],i=0}finally{l=o=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}function pr(r,a){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var l=s.call(r),i,o=[],L;try{for(;(a===void 0||a-- >0)&&!(i=l.next()).done;)o.push(i.value)}catch(j){L={error:j}}finally{try{i&&!i.done&&(s=l.return)&&s.call(l)}finally{if(L)throw L.error}}return o}function hr(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(pr(arguments[a]));return r}var mr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ge(r,a){var s=gr(r);if(typeof s.path!="string"){var l=r.webkitRelativePath;Object.defineProperty(s,"path",{value:typeof a=="string"?a:typeof l=="string"&&l.length>0?l:r.name,writable:!1,configurable:!1,enumerable:!0})}return s}function gr(r){var a=r.name,s=a&&a.lastIndexOf(".")!==-1;if(s&&!r.type){var l=a.split(".").pop().toLowerCase(),i=mr.get(l);i&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return r}var vr=[".DS_Store","Thumbs.db"];function yr(r){return $e(this,void 0,void 0,function(){return Ke(this,function(a){return tt(r)&&br(r)?[2,Dr(r.dataTransfer,r.type)]:Er(r)?[2,Cr(r)]:Array.isArray(r)&&r.every(function(s){return"getFile"in s&&typeof s.getFile=="function"})?[2,Sr(r)]:[2,[]]})})}function br(r){return tt(r.dataTransfer)}function Er(r){return tt(r)&&tt(r.target)}function tt(r){return typeof r=="object"&&r!==null}function Cr(r){return lt(r.target.files).map(function(a){return Ge(a)})}function Sr(r){return $e(this,void 0,void 0,function(){var a;return Ke(this,function(s){switch(s.label){case 0:return[4,Promise.all(r.map(function(l){return l.getFile()}))];case 1:return a=s.sent(),[2,a.map(function(l){return Ge(l)})]}})})}function Dr(r,a){return $e(this,void 0,void 0,function(){var s,l;return Ke(this,function(i){switch(i.label){case 0:return r===null?[2,[]]:r.items?(s=lt(r.items).filter(function(o){return o.kind==="file"}),a!=="drop"?[2,s]:[4,Promise.all(s.map(Or))]):[3,2];case 1:return l=i.sent(),[2,pt(xt(l))];case 2:return[2,pt(lt(r.files).map(function(o){return Ge(o)}))]}})})}function pt(r){return r.filter(function(a){return vr.indexOf(a.name)===-1})}function lt(r){if(r===null)return[];for(var a=[],s=0;s<r.length;s++){var l=r[s];a.push(l)}return a}function Or(r){if(typeof r.webkitGetAsEntry!="function")return ht(r);var a=r.webkitGetAsEntry();return a&&a.isDirectory?At(a):ht(r)}function xt(r){return r.reduce(function(a,s){return hr(a,Array.isArray(s)?xt(s):[s])},[])}function ht(r){var a=r.getAsFile();if(!a)return Promise.reject(r+" is not a File");var s=Ge(a);return Promise.resolve(s)}function _r(r){return $e(this,void 0,void 0,function(){return Ke(this,function(a){return[2,r.isDirectory?At(r):wr(r)]})})}function At(r){var a=r.createReader();return new Promise(function(s,l){var i=[];function o(){var L=this;a.readEntries(function(j){return $e(L,void 0,void 0,function(){var k,E,P;return Ke(this,function(U){switch(U.label){case 0:if(j.length)return[3,5];U.label=1;case 1:return U.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return k=U.sent(),s(k),[3,4];case 3:return E=U.sent(),l(E),[3,4];case 4:return[3,6];case 5:P=Promise.all(j.map(_r)),i.push(P),o(),U.label=6;case 6:return[2]}})})},function(j){l(j)})}o()})}function wr(r){return $e(this,void 0,void 0,function(){return Ke(this,function(a){return[2,new Promise(function(s,l){r.file(function(i){var o=Ge(i,r.fullPath);s(o)},function(i){l(i)})})]})})}var Tr=function(r,a){if(r&&a){var s=Array.isArray(a)?a:a.split(","),l=r.name||"",i=(r.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return s.some(function(L){var j=L.trim().toLowerCase();return j.charAt(0)==="."?l.toLowerCase().endsWith(j):j.endsWith("/*")?o===j.replace(/\/.*$/,""):i===j})}return!0};function mt(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),s.push.apply(s,l)}return s}function gt(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?mt(Object(s),!0).forEach(function(l){kt(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):mt(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}function kt(r,a,s){return a in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function vt(r,a){return kr(r)||Ar(r,a)||xr(r,a)||Ir()}function Ir(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xr(r,a){if(r){if(typeof r=="string")return yt(r,a);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yt(r,a)}}function yt(r,a){(a==null||a>r.length)&&(a=r.length);for(var s=0,l=new Array(a);s<a;s++)l[s]=r[s];return l}function Ar(r,a){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var l=[],i=!0,o=!1,L,j;try{for(s=s.call(r);!(i=(L=s.next()).done)&&(l.push(L.value),!(a&&l.length===a));i=!0);}catch(k){o=!0,j=k}finally{try{!i&&s.return!=null&&s.return()}finally{if(o)throw j}}return l}}function kr(r){if(Array.isArray(r))return r}var Pt="file-invalid-type",jt="file-too-large",Rt="file-too-small",Ft="too-many-files",Pr={FileInvalidType:Pt,FileTooLarge:jt,FileTooSmall:Rt,TooManyFiles:Ft},jr=function(a){a=Array.isArray(a)&&a.length===1?a[0]:a;var s=Array.isArray(a)?"one of ".concat(a.join(", ")):a;return{code:Pt,message:"File type must be ".concat(s)}},bt=function(a){return{code:jt,message:"File is larger than ".concat(a," ").concat(a===1?"byte":"bytes")}},Et=function(a){return{code:Rt,message:"File is smaller than ".concat(a," ").concat(a===1?"byte":"bytes")}},Rr={code:Ft,message:"Too many files"};function Lt(r,a){var s=r.type==="application/x-moz-file"||Tr(r,a);return[s,s?null:jr(a)]}function Mt(r,a,s){if(Ye(r.size))if(Ye(a)&&Ye(s)){if(r.size>s)return[!1,bt(s)];if(r.size<a)return[!1,Et(a)]}else{if(Ye(a)&&r.size<a)return[!1,Et(a)];if(Ye(s)&&r.size>s)return[!1,bt(s)]}return[!0,null]}function Ye(r){return r!=null}function Fr(r){var a=r.files,s=r.accept,l=r.minSize,i=r.maxSize,o=r.multiple,L=r.maxFiles;return!o&&a.length>1||o&&L>=1&&a.length>L?!1:a.every(function(j){var k=Lt(j,s),E=vt(k,1),P=E[0],U=Mt(j,l,i),Ee=vt(U,1),we=Ee[0];return P&&we})}function rt(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function et(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(a){return a==="Files"||a==="application/x-moz-file"}):!!r.target&&!!r.target.files}function Ct(r){r.preventDefault()}function Lr(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function Mr(r){return r.indexOf("Edge/")!==-1}function Br(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Lr(r)||Mr(r)}function He(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return function(l){for(var i=arguments.length,o=new Array(i>1?i-1:0),L=1;L<i;L++)o[L-1]=arguments[L];return a.some(function(j){return!rt(l)&&j&&j.apply(void 0,[l].concat(o)),rt(l)})}}function Hr(){return"showOpenFilePicker"in window}function Vr(r){return r=typeof r=="string"?r.split(","):r,[{description:"everything",accept:Array.isArray(r)?r.filter(function(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||/\w+\/[-+.\w]+/g.test(a)}).reduce(function(a,s){return gt(gt({},a),{},kt({},s,[]))},{}):{}}]}function Nr(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function zr(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}var $r=["children"],Kr=["open"],Ur=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Wr=["refKey","onChange","onClick"];function Yr(r){return qr(r)||Xr(r)||Bt(r)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function qr(r){if(Array.isArray(r))return ct(r)}function at(r,a){return Jr(r)||Qr(r,a)||Bt(r,a)||Zr()}function Zr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(r,a){if(r){if(typeof r=="string")return ct(r,a);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ct(r,a)}}function ct(r,a){(a==null||a>r.length)&&(a=r.length);for(var s=0,l=new Array(a);s<a;s++)l[s]=r[s];return l}function Qr(r,a){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var l=[],i=!0,o=!1,L,j;try{for(s=s.call(r);!(i=(L=s.next()).done)&&(l.push(L.value),!(a&&l.length===a));i=!0);}catch(k){o=!0,j=k}finally{try{!i&&s.return!=null&&s.return()}finally{if(o)throw j}}return l}}function Jr(r){if(Array.isArray(r))return r}function St(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),s.push.apply(s,l)}return s}function De(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?St(Object(s),!0).forEach(function(l){ut(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):St(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}function ut(r,a,s){return a in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function nt(r,a){if(r==null)return{};var s=en(r,a),l,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)l=o[i],!(a.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(r,l)&&(s[l]=r[l])}return s}function en(r,a){if(r==null)return{};var s={},l=Object.keys(r),i,o;for(o=0;o<l.length;o++)i=l[o],!(a.indexOf(i)>=0)&&(s[i]=r[i]);return s}var it=be.forwardRef(function(r,a){var s=r.children,l=nt(r,$r),i=Vt(l),o=i.open,L=nt(i,Kr);return be.useImperativeHandle(a,function(){return{open:o}},[o]),Xt.createElement(be.Fragment,null,s(De(De({},L),{},{open:o})))});it.displayName="Dropzone";var Ht={disabled:!1,getFilesFromEvent:yr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};it.defaultProps=Ht;it.propTypes={children:ye.func,accept:ye.oneOfType([ye.string,ye.arrayOf(ye.string)]),multiple:ye.bool,preventDropOnDocument:ye.bool,noClick:ye.bool,noKeyboard:ye.bool,noDrag:ye.bool,noDragEventsBubbling:ye.bool,minSize:ye.number,maxSize:ye.number,maxFiles:ye.number,disabled:ye.bool,getFilesFromEvent:ye.func,onFileDialogCancel:ye.func,onFileDialogOpen:ye.func,useFsAccessApi:ye.bool,onDragEnter:ye.func,onDragLeave:ye.func,onDragOver:ye.func,onDrop:ye.func,onDropAccepted:ye.func,onDropRejected:ye.func,validator:ye.func};var ft={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Vt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=De(De({},Ht),r),s=a.accept,l=a.disabled,i=a.getFilesFromEvent,o=a.maxSize,L=a.minSize,j=a.multiple,k=a.maxFiles,E=a.onDragEnter,P=a.onDragLeave,U=a.onDragOver,Ee=a.onDrop,we=a.onDropAccepted,ee=a.onDropRejected,Te=a.onFileDialogCancel,xe=a.onFileDialogOpen,je=a.useFsAccessApi,Fe=a.preventDropOnDocument,Ae=a.noClick,Le=a.noKeyboard,M=a.noDrag,S=a.noDragEventsBubbling,D=a.validator,u=be.useMemo(function(){return typeof xe=="function"?xe:Dt},[xe]),c=be.useMemo(function(){return typeof Te=="function"?Te:Dt},[Te]),h=be.useRef(null),_=be.useRef(null),I=be.useReducer(tn,ft),F=at(I,2),N=F[0],W=F[1],ne=N.isFocused,B=N.isFileDialogActive,ce=N.draggedFiles,K=be.useRef(typeof window<"u"&&window.isSecureContext&&je&&Hr()),Oe=function(){!K.current&&B&&setTimeout(function(){if(_.current){var m=_.current.files;m.length||(W({type:"closeDialog"}),c())}},300)};be.useEffect(function(){return window.addEventListener("focus",Oe,!1),function(){window.removeEventListener("focus",Oe,!1)}},[_,B,c,K]);var oe=be.useRef([]),H=function(m){h.current&&h.current.contains(m.target)||(m.preventDefault(),oe.current=[])};be.useEffect(function(){return Fe&&(document.addEventListener("dragover",Ct,!1),document.addEventListener("drop",H,!1)),function(){Fe&&(document.removeEventListener("dragover",Ct),document.removeEventListener("drop",H))}},[h,Fe]);var ie=be.useCallback(function(p){p.preventDefault(),p.persist(),n(p),oe.current=[].concat(Yr(oe.current),[p.target]),et(p)&&Promise.resolve(i(p)).then(function(m){rt(p)&&!S||(W({draggedFiles:m,isDragActive:!0,type:"setDraggedFiles"}),E&&E(p))})},[i,E,S]),Se=be.useCallback(function(p){p.preventDefault(),p.persist(),n(p);var m=et(p);if(m&&p.dataTransfer)try{p.dataTransfer.dropEffect="copy"}catch{}return m&&U&&U(p),!1},[U,S]),te=be.useCallback(function(p){p.preventDefault(),p.persist(),n(p);var m=oe.current.filter(function(x){return h.current&&h.current.contains(x)}),w=m.indexOf(p.target);w!==-1&&m.splice(w,1),oe.current=m,!(m.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),et(p)&&P&&P(p))},[h,P,S]),ue=be.useCallback(function(p,m){var w=[],x=[];p.forEach(function(T){var A=Lt(T,s),V=at(A,2),Y=V[0],X=V[1],z=Mt(T,L,o),ae=at(z,2),pe=ae[0],he=ae[1],ge=D?D(T):null;if(Y&&pe&&!ge)w.push(T);else{var _e=[X,he];ge&&(_e=_e.concat(ge)),x.push({file:T,errors:_e.filter(function(Pe){return Pe})})}}),(!j&&w.length>1||j&&k>=1&&w.length>k)&&(w.forEach(function(T){x.push({file:T,errors:[Rr]})}),w.splice(0)),W({acceptedFiles:w,fileRejections:x,type:"setFiles"}),Ee&&Ee(w,x,m),x.length>0&&ee&&ee(x,m),w.length>0&&we&&we(w,m)},[W,j,s,L,o,k,Ee,we,ee,D]),de=be.useCallback(function(p){p.preventDefault(),p.persist(),n(p),oe.current=[],et(p)&&Promise.resolve(i(p)).then(function(m){rt(p)&&!S||ue(m,p)}),W({type:"reset"})},[i,ue,S]),fe=be.useCallback(function(){if(K.current){W({type:"openDialog"}),u();var p={multiple:j,types:Vr(s)};window.showOpenFilePicker(p).then(function(m){return i(m)}).then(function(m){ue(m,null),W({type:"closeDialog"})}).catch(function(m){Nr(m)?(c(m),W({type:"closeDialog"})):zr(m)&&(K.current=!1,_.current&&(_.current.value=null,_.current.click()))});return}_.current&&(W({type:"openDialog"}),u(),_.current.value=null,_.current.click())},[W,u,c,je,ue,s,j]),$=be.useCallback(function(p){!h.current||!h.current.isEqualNode(p.target)||(p.key===" "||p.key==="Enter"||p.keyCode===32||p.keyCode===13)&&(p.preventDefault(),fe())},[h,fe]),q=be.useCallback(function(){W({type:"focus"})},[]),se=be.useCallback(function(){W({type:"blur"})},[]),me=be.useCallback(function(){Ae||(Br()?setTimeout(fe,0):fe())},[Ae,fe]),Q=function(m){return l?null:m},Ce=function(m){return Le?null:Q(m)},le=function(m){return M?null:Q(m)},n=function(m){S&&m.stopPropagation()},v=be.useMemo(function(){return function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.refKey,w=m===void 0?"ref":m,x=p.role,T=p.onKeyDown,A=p.onFocus,V=p.onBlur,Y=p.onClick,X=p.onDragEnter,z=p.onDragOver,ae=p.onDragLeave,pe=p.onDrop,he=nt(p,Ur);return De(De(ut({onKeyDown:Ce(He(T,$)),onFocus:Ce(He(A,q)),onBlur:Ce(He(V,se)),onClick:Q(He(Y,me)),onDragEnter:le(He(X,ie)),onDragOver:le(He(z,Se)),onDragLeave:le(He(ae,te)),onDrop:le(He(pe,de)),role:typeof x=="string"&&x!==""?x:"button"},w,h),!l&&!Le?{tabIndex:0}:{}),he)}},[h,$,q,se,me,ie,Se,te,de,Le,M,l]),g=be.useCallback(function(p){p.stopPropagation()},[]),C=be.useMemo(function(){return function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.refKey,w=m===void 0?"ref":m,x=p.onChange,T=p.onClick,A=nt(p,Wr),V=ut({accept:s,multiple:j,type:"file",style:{display:"none"},onChange:Q(He(x,de)),onClick:Q(He(T,g)),tabIndex:-1},w,_);return De(De({},V),A)}},[_,s,j,de,l]),O=ce.length,y=O>0&&Fr({files:ce,accept:s,minSize:L,maxSize:o,multiple:j,maxFiles:k}),b=O>0&&!y;return De(De({},N),{},{isDragAccept:y,isDragReject:b,isFocused:ne&&!l,getRootProps:v,getInputProps:C,rootRef:h,inputRef:_,open:Q(fe)})}function tn(r,a){switch(a.type){case"focus":return De(De({},r),{},{isFocused:!0});case"blur":return De(De({},r),{},{isFocused:!1});case"openDialog":return De(De({},ft),{},{isFileDialogActive:!0});case"closeDialog":return De(De({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":var s=a.isDragActive,l=a.draggedFiles;return De(De({},r),{},{draggedFiles:l,isDragActive:s});case"setFiles":return De(De({},r),{},{acceptedFiles:a.acceptedFiles,fileRejections:a.fileRejections});case"reset":return De({},ft);default:return r}}function Dt(){}const rn=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:Pr,default:it,useDropzone:Vt},Symbol.toStringTag,{value:"Module"})),nn=qt(rn);(function(r){r.exports=function(a){var s={};function l(i){if(s[i])return s[i].exports;var o=s[i]={i,l:!1,exports:{}};return a[i].call(o.exports,o,o.exports,l),o.l=!0,o.exports}return l.m=a,l.c=s,l.d=function(i,o,L){l.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:L})},l.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},l.t=function(i,o){if(o&1&&(i=l(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var L=Object.create(null);if(l.r(L),Object.defineProperty(L,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var j in i)l.d(L,j,(function(k){return i[k]}).bind(null,j));return L},l.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return l.d(o,"a",o),o},l.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},l.p="",l(l.s=25)}([function(a,s){a.exports=be},function(a,s,l){l.d(s,"a",function(){return _e}),l.d(s,"b",function(){return ge}),l.d(s,"c",function(){return n}),l.d(s,"d",function(){return j}),l.d(s,"e",function(){return o}),l.d(s,"f",function(){return Le}),l.d(s,"g",function(){return W}),l.d(s,"h",function(){return P}),l.d(s,"i",function(){return Me}),l.d(s,"j",function(){return J}),l.d(s,"k",function(){return Re}),l.d(s,"l",function(){return ee}),l.d(s,"m",function(){return Be}),l.d(s,"n",function(){return Ee}),l.d(s,"o",function(){return Pe}),l.d(s,"p",function(){return Z}),l.d(s,"q",function(){return we}),l.d(s,"r",function(){return G});var i=l(2);function o(f,e,t){return e in f?Object.defineProperty(f,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):f[e]=t,f}function L(f,e){var t=Object.keys(f);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(f);e&&(d=d.filter(function(R){return Object.getOwnPropertyDescriptor(f,R).enumerable})),t.push.apply(t,d)}return t}function j(f){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L(Object(t),!0).forEach(function(d){o(f,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(d){Object.defineProperty(f,d,Object.getOwnPropertyDescriptor(t,d))})}return f}const k={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function E(f){return f?f[0].toUpperCase()+f.slice(1):""}function P(f,e="",t=!1){const d=k[f],R=d&&d[e]||e;return"on"+E(f)+E(R)+(t?"Capture":"")}const U=["gotpointercapture","lostpointercapture"];function Ee(f){let e=f.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const d=U.includes(e)?"capturecapture":"capture",R=!!~e.indexOf(d);return R&&(e=e.replace("capture","")),{device:e,capture:R,passive:t}}function we(f,e=""){const t=k[f],d=t&&t[e]||e;return f+d}function ee(f){return"touches"in f}function Te(f){return ee(f)?"touch":"pointerType"in f?f.pointerType:"mouse"}function xe(f){return Array.from(f.touches).filter(e=>{var t,d;return e.target===f.currentTarget||((t=f.currentTarget)===null||t===void 0||(d=t.contains)===null||d===void 0?void 0:d.call(t,e.target))})}function je(f){return f.type==="touchend"||f.type==="touchcancel"?f.changedTouches:f.targetTouches}function Fe(f){return ee(f)?je(f)[0]:f}function Ae(f,e){const t=e.clientX-f.clientX,d=e.clientY-f.clientY,R=(e.clientX+f.clientX)/2,re=(e.clientY+f.clientY)/2,ve=Math.hypot(t,d);return{angle:-(Math.atan2(t,d)*180)/Math.PI,distance:ve,origin:[R,re]}}function Le(f){return xe(f).map(e=>e.identifier)}function M(f,e){const[t,d]=Array.from(f.touches).filter(R=>e.includes(R.identifier));return Ae(t,d)}function S(f){const e=Fe(f);return ee(f)?e.identifier:e.pointerId}function D(f){const e=Fe(f);return[e.clientX,e.clientY]}const u=40,c=800;function h(f){let{deltaX:e,deltaY:t,deltaMode:d}=f;return d===1?(e*=u,t*=u):d===2&&(e*=c,t*=c),[e,t]}function _(f){var e,t;const{scrollX:d,scrollY:R,scrollLeft:re,scrollTop:ve}=f.currentTarget;return[(e=d??re)!==null&&e!==void 0?e:0,(t=R??ve)!==null&&t!==void 0?t:0]}function I(f){const e={};if("buttons"in f&&(e.buttons=f.buttons),"shiftKey"in f){const{shiftKey:t,altKey:d,metaKey:R,ctrlKey:re}=f;Object.assign(e,{shiftKey:t,altKey:d,metaKey:R,ctrlKey:re})}return e}function F(f,...e){return typeof f=="function"?f(...e):f}function N(){}function W(...f){return f.length===0?N:f.length===1?f[0]:function(){let e;for(const t of f)e=t.apply(this,arguments)||e;return e}}function ne(f,e){return Object.assign({},e,f||{})}const B=32;class ce{constructor(e,t,d){this.ctrl=e,this.args=t,this.key=d,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:d,args:R}=this;t[d]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=R,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,d=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=d.from?F(d.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:d,shared:R}=this;t.args=this.args;let re=0;if(e&&(t.event=e,d.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,R.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,R.locked=!!document.pointerLockElement,Object.assign(R,I(e)),R.down=R.pressed=R.buttons%2===1||R.touches>0,re=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const ze=t._delta.map(Math.abs);i.a.addTo(t._distance,ze)}this.axisIntent&&this.axisIntent(e);const[ve,ke]=t._movement,[Ve,Ue]=d.threshold,{_step:Ie,values:We}=t;if(d.hasCustomTransform?(Ie[0]===!1&&(Ie[0]=Math.abs(ve)>=Ve&&We[0]),Ie[1]===!1&&(Ie[1]=Math.abs(ke)>=Ue&&We[1])):(Ie[0]===!1&&(Ie[0]=Math.abs(ve)>=Ve&&Math.sign(ve)*Ve),Ie[1]===!1&&(Ie[1]=Math.abs(ke)>=Ue&&Math.sign(ke)*Ue)),t.intentional=Ie[0]!==!1||Ie[1]!==!1,!t.intentional)return;const Ne=[0,0];if(d.hasCustomTransform){const[ze,Ut]=We;Ne[0]=Ie[0]!==!1?ze-Ie[0]:0,Ne[1]=Ie[1]!==!1?Ut-Ie[1]:0}else Ne[0]=Ie[0]!==!1?ve-Ie[0]:0,Ne[1]=Ie[1]!==!1?ke-Ie[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(Ne);const Xe=t.offset,qe=t._active&&!t._blocked||t.active;qe&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=R[this.ingKey]=t._active,e&&(t.first&&("bounds"in d&&(t._bounds=F(d.bounds,t)),this.setup&&this.setup()),t.movement=Ne,this.computeOffset()));const[Ze,Qe]=t.offset,[[ot,Nt],[zt,$t]]=t._bounds;t.overflow=[Ze<ot?-1:Ze>Nt?1:0,Qe<zt?-1:Qe>$t?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const Kt=t._active?d.rubberband||[0,0]:[0,0];if(t.offset=Object(i.b)(t._bounds,t.offset,Kt),t.delta=i.a.sub(t.offset,Xe),this.computeMovement(),qe&&(!t.last||re>B)){t.delta=i.a.sub(t.offset,Xe);const ze=t.delta.map(Math.abs);i.a.addTo(t.distance,ze),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&re>0&&(t.velocity=[ze[0]/re,ze[1]/re])}}emit(){const e=this.state,t=this.shared,d=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!d.triggerAllEvents)return;const R=this.handler(j(j(j({},t),e),{},{[this.aliasKey]:e.values}));R!==void 0&&(e.memo=R)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function K([f,e],t){const d=Math.abs(f),R=Math.abs(e);if(d>R&&d>t)return"x";if(R>d&&R>t)return"y"}class Oe extends ce{constructor(...e){super(...e),o(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=i.a.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=i.a.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,d=this.config;if(!t.axis&&e){const R=typeof d.axisThreshold=="object"?d.axisThreshold[Te(e)]:d.axisThreshold;t.axis=K(t._movement,R)}t._blocked=(d.lockDirection||!!d.axis)&&!t.axis||!!d.axis&&d.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const oe=f=>f,H=.15,ie={enabled(f=!0){return f},preventDefault(f=!1){return f},triggerAllEvents(f=!1){return f},rubberband(f=0){switch(f){case!0:return[H,H];case!1:return[0,0];default:return i.a.toVector(f)}},from(f){if(typeof f=="function")return f;if(f!=null)return i.a.toVector(f)},transform(f,e,t){const d=f||t.shared.transform;return this.hasCustomTransform=!!d,d||oe},threshold(f){return i.a.toVector(f,0)}},Se=0,te=j(j({},ie),{},{axis(f,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(f=Se){return f},bounds(f={}){if(typeof f=="function")return re=>te.bounds(f(re));if("current"in f)return()=>f.current;if(typeof HTMLElement=="function"&&f instanceof HTMLElement)return f;const{left:e=-1/0,right:t=1/0,top:d=-1/0,bottom:R=1/0}=f;return[[e,t],[d,R]]}}),ue=10,de={ArrowRight:(f=1)=>[ue*f,0],ArrowLeft:(f=1)=>[-ue*f,0],ArrowUp:(f=1)=>[0,-ue*f],ArrowDown:(f=1)=>[0,ue*f]};class fe extends Oe{constructor(...e){super(...e),o(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),d=e.currentTarget.getBoundingClientRect(),R={left:t.left-d.left+e.offset[0],right:t.right-d.right+e.offset[0],top:t.top-d.top+e.offset[1],bottom:t.bottom-d.bottom+e.offset[1]};e._bounds=te.bounds(R)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,d=this.state;e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons)||(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!d._pointerActive&&(this.start(e),this.setupPointer(e),d._pointerId=S(e),d._pointerActive=!0,this.computeValues(D(e)),this.computeInitial(),t.preventScrollAxis&&Te(e)!=="mouse"?(d._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e)))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,d=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const R=S(e);if(t._pointerId!==void 0&&R!==t._pointerId)return;const re=D(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=i.a.sub(re,t._values),this.computeValues(re)),i.a.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(d.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===d.preventScrollAxis||d.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,d=this.config;if(!t._active||!t._pointerActive)return;const R=S(e);if(t._pointerId!==void 0&&R!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[re,ve]=t._distance;if(t.tap=re<=d.tapsThreshold&&ve<=d.tapsThreshold,t.tap&&d.filterTaps)t._force=!0;else{const[ke,Ve]=t.direction,[Ue,Ie]=t.velocity,[We,Ne]=t.movement,[Xe,qe]=d.swipe.velocity,[Ze,Qe]=d.swipe.distance,ot=d.swipe.duration;t.elapsedTime<ot&&(Math.abs(Ue)>Xe&&Math.abs(We)>Ze&&(t.swipe[0]=ke),Math.abs(Ie)>qe&&Math.abs(Ne)>Qe&&(t.swipe[1]=Ve))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,d=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,d,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,d,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,d,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){$(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this)),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this)),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=de[e.key];if(t){const d=this.state,R=e.shiftKey?10:e.altKey?.1:1;d._delta=t(R),this.start(e),d._keyboardActive=!0,i.a.addTo(d._movement,d._delta),this.compute(e),this.emit()}}keyUp(e){e.key in de&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function $(f){"persist"in f&&typeof f.persist=="function"&&f.persist()}const q=typeof window<"u"&&window.document&&window.document.createElement;function se(){return q&&"ontouchstart"in window}function me(){return se()||q&&window.navigator.maxTouchPoints>1}function Q(){return q&&"onpointerdown"in window}function Ce(){return q&&"exitPointerLock"in window.document}function le(){try{return"constructor"in GestureEvent}catch{return!1}}const n={isBrowser:q,gesture:le(),touch:me(),touchscreen:me(),pointer:Q(),pointerLock:Ce()},v=250,g=180,C=.5,O=50,y=250,b={mouse:0,touch:0,pen:8},p=j(j({},te),{},{device(f,e,{pointer:{touch:t=!1,lock:d=!1,mouse:R=!1}={}}){return this.pointerLock=d&&n.pointerLock,n.touch&&t?"touch":this.pointerLock?"mouse":n.pointer&&!R?"pointer":n.touch?"touch":"mouse"},preventScrollAxis(f,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&f?v:void 0,!(!n.touchscreen||t===!1))return f||(t!==void 0?"y":void 0)},pointerCapture(f,e,{pointer:{capture:t=!0,buttons:d=1}={}}){return this.pointerButtons=d,!this.pointerLock&&this.device==="pointer"&&t},threshold(f,e,{filterTaps:t=!1,tapsThreshold:d=3,axis:R=void 0}){const re=i.a.toVector(f,t?d:R?1:0);return this.filterTaps=t,this.tapsThreshold=d,re},swipe({velocity:f=C,distance:e=O,duration:t=y}={}){return{velocity:this.transform(i.a.toVector(f)),distance:this.transform(i.a.toVector(e)),duration:t}},delay(f=0){switch(f){case!0:return g;case!1:return 0;default:return f}},axisThreshold(f){return f?j(j({},b),f):b}}),m=30,w=100;class x extends ce{constructor(...e){super(...e),o(this,"ingKey","pinching"),o(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:d}=this.state;e==="wheel"?this.state.offset=i.a.add(t,d):this.state.offset=[(1+t[0])*d[0],t[1]+d[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,d]=e._movement;if(!e.axis){const R=Math.abs(t)*m-Math.abs(d);R<0?e.axis="angle":R>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,d=this.ctrl.touchIds;if(t._active&&t._touchIds.every(re=>d.has(re))||d.size<2)return;this.start(e),t._touchIds=Array.from(d).slice(0,2);const R=M(e,t._touchIds);this.pinchStart(e,R)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,d=t._pointerEvents,R=this.ctrl.pointerIds;if(t._active&&Array.from(d.keys()).every(ve=>R.has(ve))||(d.size<2&&d.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const re=Ae(...Array.from(d.values()));this.pinchStart(e,re)}pinchStart(e,t){const d=this.state;d.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=M(e,this.state._touchIds);this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const d=Ae(...Array.from(t.values()));this.pinchMove(e,d)}pinchMove(e,t){const d=this.state,R=d._values[1],re=t.angle-R;let ve=0;Math.abs(re)>270&&(ve+=Math.sign(re)),this.computeValues([t.distance,t.angle-360*ve]),d.origin=t.origin,d.turns=ve,d._movement=[d._values[0]/d._initial[0]-1,d._values[1]-d._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const d=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=i.a.sub(t._movement,d),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const d=this.state;d._delta=[-h(e)[1]/w*d.offset[0],0],i.a.addTo(d._movement,d._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t?(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}}const T=j(j({},ie),{},{device(f,e,{shared:t,pointer:{touch:d=!1}={}}){if(t.target&&!n.touch&&n.gesture)return"gesture";if(n.touch&&d)return"touch";if(n.touchscreen){if(n.pointer)return"pointer";if(n.touch)return"touch"}},bounds(f,e,{scaleBounds:t={},angleBounds:d={}}){const R=ve=>{const ke=ne(F(t,ve),{min:-1/0,max:1/0});return[ke.min,ke.max]},re=ve=>{const ke=ne(F(d,ve),{min:-1/0,max:1/0});return[ke.min,ke.max]};return typeof t!="function"&&typeof d!="function"?[R(),re()]:ve=>[R(ve),re(ve)]},threshold(f,e,t){return this.lockDirection=t.axis==="lock",i.a.toVector(f,this.lockDirection?[.1,3]:0)},modifierKey(f){return f===void 0?"ctrlKey":f}});class A extends Oe{constructor(...e){super(...e),o(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(D(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=D(e),d=this.state;d._delta=i.a.sub(t,d._values),i.a.addTo(d._movement,d._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const V=j(j({},te),{},{mouseOnly:(f=!0)=>f});class Y extends Oe{constructor(...e){super(...e),o(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,d=_(e);t._delta=i.a.sub(d,t._values),i.a.addTo(t._movement,t._delta),this.computeValues(d),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const X=te;class z extends Oe{constructor(...e){super(...e),o(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=h(e),i.a.addTo(t._movement,t._delta);const[d,R]=t.overflow,[re,ve]=t._delta,[ke,Ve]=t._direction;(d<0&&re>0&&ke<0||d>0&&re<0&&ke>0)&&(t._movement[0]=t._movementBound[0]),(R<0&&ve>0&&Ve<0||R>0&&ve<0&&Ve>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const ae=te;class pe extends Oe{constructor(...e){super(...e),o(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(D(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const d=D(e);t._movement=t._delta=i.a.sub(d,t._values),this.computeValues(d),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const he=j(j({},te),{},{mouseOnly:(f=!0)=>f}),ge=new Map,_e=new Map;function Pe(f){ge.set(f.key,f.engine),_e.set(f.key,f.resolver)}const Me={key:"drag",engine:fe,resolver:p},Re={key:"hover",engine:pe,resolver:he},Be={key:"move",engine:A,resolver:V},J={key:"pinch",engine:x,resolver:T},Z={key:"scroll",engine:Y,resolver:X},G={key:"wheel",engine:z,resolver:ae}},function(a,s,l){l.d(s,"a",function(){return o}),l.d(s,"b",function(){return k});function i(E,P,U){return Math.max(P,Math.min(E,U))}const o={toVector(E,P){return E===void 0&&(E=P),Array.isArray(E)?E:[E,E]},add(E,P){return[E[0]+P[0],E[1]+P[1]]},sub(E,P){return[E[0]-P[0],E[1]-P[1]]},addTo(E,P){E[0]+=P[0],E[1]+=P[1]},subTo(E,P){E[0]-=P[0],E[1]-=P[1]}};function L(E,P,U){return P===0||Math.abs(P)===1/0?Math.pow(E,U*5):E*P*U/(P+U*E)}function j(E,P,U,Ee=.15){return Ee===0?i(E,P,U):E<P?-L(P-E,U-P,Ee)+P:E>U?+L(E-U,U-P,Ee)+U:E}function k(E,[P,U],[Ee,we]){const[[ee,Te],[xe,je]]=E;return[j(P,ee,Te,Ee),j(U,xe,je,we)]}},function(a,s,l){var i=l(1);l.d(s,"a",function(){return i.i}),l.d(s,"b",function(){return i.k}),l.d(s,"c",function(){return i.m}),l.d(s,"d",function(){return i.j}),l.d(s,"e",function(){return i.o}),l.d(s,"f",function(){return i.p}),l.d(s,"g",function(){return i.r})},function(a,s){a.exports=ar()},function(a,s,l){l.d(s,"a",function(){return we}),l.d(s,"b",function(){return Le});var i=l(1);function o(M,S){if(M==null)return{};var D={},u=Object.keys(M),c,h;for(h=0;h<u.length;h++)c=u[h],!(S.indexOf(c)>=0)&&(D[c]=M[c]);return D}function L(M,S){if(M==null)return{};var D=o(M,S),u,c;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(M);for(c=0;c<h.length;c++)u=h[c],!(S.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(M,u)&&(D[u]=M[u])}return D}const j={target(M){if(M)return()=>"current"in M?M.current:M},enabled(M=!0){return M},window(M=i.c.isBrowser?window:void 0){return M},eventOptions({passive:M=!0,capture:S=!1}={}){return{passive:M,capture:S}},transform(M){return M}},k=["target","eventOptions","window","enabled","transform"];function E(M={},S){const D={};for(const[u,c]of Object.entries(S))switch(typeof c){case"function":D[u]=c.call(D,M[u],u,M);break;case"object":D[u]=E(M[u],c);break;case"boolean":c&&(D[u]=M[u]);break}return D}function P(M,S){const D=M,{target:u,eventOptions:c,window:h,enabled:_,transform:I}=D,F=L(D,k),N={shared:E({target:u,eventOptions:c,window:h,enabled:_,transform:I},j)};if(S){const W=i.a.get(S);N[S]=E(Object(i.d)({shared:N.shared},F),W)}else for(const W in F){const ne=i.a.get(W);ne&&(N[W]=E(Object(i.d)({shared:N.shared},F[W]),ne))}return N}class U{constructor(S){Object(i.e)(this,"_listeners",[]),this._ctrl=S}add(S,D,u,c,h){const _=Object(i.q)(D,u),I=Object(i.d)(Object(i.d)({},this._ctrl.config.shared.eventOptions),h);S.addEventListener(_,c,I),this._listeners.push(()=>S.removeEventListener(_,c,I))}clean(){this._listeners.forEach(S=>S()),this._listeners=[]}}class Ee{constructor(){Object(i.e)(this,"_timeouts",new Map)}add(S,D,u=140,...c){this.remove(S),this._timeouts.set(S,window.setTimeout(D,u,...c))}remove(S){const D=this._timeouts.get(S);D&&window.clearTimeout(D)}clean(){this._timeouts.forEach(S=>void window.clearTimeout(S)),this._timeouts.clear()}}class we{constructor(S){Object(i.e)(this,"gestures",new Set),Object(i.e)(this,"_targetEventStore",new U(this)),Object(i.e)(this,"gestureEventStores",{}),Object(i.e)(this,"gestureTimeoutStores",{}),Object(i.e)(this,"handlers",{}),Object(i.e)(this,"config",{}),Object(i.e)(this,"pointerIds",new Set),Object(i.e)(this,"touchIds",new Set),Object(i.e)(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Te(this,S)}setEventIds(S){Object(i.l)(S)?this.touchIds=new Set(Object(i.f)(S)):"pointerId"in S&&(S.type==="pointerup"||S.type==="pointercancel"?this.pointerIds.delete(S.pointerId):S.type==="pointerdown"&&this.pointerIds.add(S.pointerId))}applyHandlers(S,D){this.handlers=S,this.nativeHandlers=D}applyConfig(S,D){this.config=P(S,D)}clean(){this._targetEventStore.clean();for(const S of this.gestures)this.gestureEventStores[S].clean(),this.gestureTimeoutStores[S].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...S){const D=this.config.shared,u=D.eventOptions,c={};let h;if(D.target&&(h=D.target(),!h))return;const _=xe(c,u,!!h);if(D.enabled){for(const I of this.gestures)if(this.config[I].enabled){const F=i.b.get(I);new F(this,S,I).bind(_)}for(const I in this.nativeHandlers)_(I,"",F=>this.nativeHandlers[I](Object(i.d)(Object(i.d)({},this.state.shared),{},{event:F,args:S})),void 0,!0)}for(const I in c)c[I]=Object(i.g)(...c[I]);if(!h)return c;for(const I in c){const{device:F,capture:N,passive:W}=Object(i.n)(I);this._targetEventStore.add(h,F,"",c[I],{capture:N,passive:W})}}}function ee(M,S){M.gestures.add(S),M.gestureEventStores[S]=new U(M),M.gestureTimeoutStores[S]=new Ee}function Te(M,S){S.drag&&ee(M,"drag"),S.wheel&&ee(M,"wheel"),S.scroll&&ee(M,"scroll"),S.move&&ee(M,"move"),S.pinch&&ee(M,"pinch"),S.hover&&ee(M,"hover")}const xe=(M,S,D)=>(u,c,h,_={},I=!1)=>{var F,N;const W=(F=_.capture)!==null&&F!==void 0?F:S.capture,ne=(N=_.passive)!==null&&N!==void 0?N:S.passive;let B=I?u:Object(i.h)(u,c,W);D&&ne&&(B+="Passive"),M[B]=M[B]||[],M[B].push(h)},je=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Fe(M){const S={},D={},u=new Set;for(let c in M)je.test(c)?(u.add(RegExp.lastMatch),D[c]=M[c]):S[c]=M[c];return[D,S,u]}function Ae(M,S,D,u,c,h){if(!M.has(D)||!i.b.has(u))return;const _=D+"Start",I=D+"End",F=N=>{let W;return N.first&&_ in S&&S[_](N),D in S&&(W=S[D](N)),N.last&&I in S&&S[I](N),W};c[u]=F,h[u]=h[u]||{}}function Le(M,S){const[D,u,c]=Fe(M),h={};return Ae(c,D,"onDrag","drag",h,S),Ae(c,D,"onWheel","wheel",h,S),Ae(c,D,"onScroll","scroll",h,S),Ae(c,D,"onPinch","pinch",h,S),Ae(c,D,"onMove","move",h,S),Ae(c,D,"onHover","hover",h,S),{handlers:h,config:S,nativeHandlers:u}}},function(a,s,l){},function(a,s){},function(a,s){a.exports=nn},function(a,s){a.exports=Zt},function(a,s,l){l.d(s,"useDrag",function(){return E});var i=l(3),o=l(0),L=l.n(o),j=l(5);l(6),l(7);function k(P,U={},Ee,we){const ee=L.a.useMemo(()=>new j.a(P),[]);if(ee.applyHandlers(P,we),ee.applyConfig(U,Ee),L.a.useEffect(ee.effect.bind(ee)),L.a.useEffect(()=>ee.clean.bind(ee),[]),U.target===void 0)return ee.bind.bind(ee)}function E(P,U={}){return Object(i.e)(i.a),k({drag:P},U,"drag")}},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){},function(a,s,l){l.r(s),l.d(s,"ImporterField",function(){return Q}),l.d(s,"Importer",function(){return le}),l.d(s,"enUS",function(){return xe}),l.d(s,"deDE",function(){return je}),l.d(s,"itIT",function(){return Fe}),l.d(s,"ptBR",function(){return Ae}),l.d(s,"daDK",function(){return Le}),l.d(s,"trTR",function(){return M});var i=l(0),o=l.n(i),L=l(4),j=l.n(L),k=function(n,v,g,C){function O(y){return y instanceof g?y:new g(function(b){b(y)})}return new(g||(g=Promise))(function(y,b){function p(x){try{w(C.next(x))}catch(T){b(T)}}function m(x){try{w(C.throw(x))}catch(T){b(T)}}function w(x){x.done?y(x.value):O(x.value).then(p,m)}w((C=C.apply(n,v||[])).next())})};const E=5;function P(n){if(n.stream)return n.stream();const v=new Response(n);if(v.body)return v.body;throw new Error("This browser does not support client-side file reads")}function U(n,v){let g=null,C=null,O=null,y=!1,b=null,p=null;function m(){return k(this,void 0,void 0,function*(){yield Promise.resolve();const x=n.getReader(),T=new TextDecoder(v);try{for(;!y;){const{done:A,value:V}=yield x.read();if(b&&(yield b),y||!g||!C)return;if(A){const X=T.decode(V);X&&g(X),C(void 0);return}const Y=T.decode(V,{stream:!0});g(Y)}}finally{x.releaseLock()}})}const w={readable:!0,read(){throw new Error("only flowing mode is emulated")},on(x,T){switch(x){case"data":if(g)throw new Error("two data handlers not supported");g=T,m().catch(A=>{if(O)O(A);else throw A});return;case"end":if(C)throw new Error("two end handlers not supported");C=T;return;case"error":if(O)throw new Error("two error handlers not supported");O=T;return}throw new Error("unknown stream shim event: "+x)},removeListener(x,T){y=!0,g=null,C=null,O=null},pause(){return b||(b=new Promise(x=>{p=x})),w},resume(){return p&&(p(),b=null,p=null),w}};return w}function Ee(n,v){return new Promise(g=>{let C=null,O;const y=[];function b(){if(y.length===0)return{parseError:new Error("File is empty"),file:n};const m=y.length===1;for(;y.length<E;)y.push([]);g({file:n,parseError:void 0,parseWarning:O||void 0,firstChunk:C||"",firstRows:y,isSingleLine:m})}const p=U(P(n),v.encoding||"utf-8");j.a.parse(p,Object.assign(Object.assign({},v),{chunkSize:1e4,preview:E,error:m=>{g({parseError:m,file:n})},beforeFirstChunk:m=>{C=m},chunk:({data:m,errors:w},x)=>{m.forEach(T=>{const A=T.map(V=>typeof V=="string"?V:"");y.push(A)}),w.length>0&&!O&&(O=w[0]),y.length>=E&&(p.pause(),x.abort(),b())},complete:b}))}).catch(g=>({parseError:g,file:n}))}function we(n,v,g){const{file:C,hasHeaders:O,papaParseConfig:y,fieldAssignments:b}=n,p=Object.keys(b);return new Promise((m,w)=>{let x=O,T=0;const A=U(P(C),y.encoding||"utf-8");j.a.parse(A,Object.assign(Object.assign({},y),{chunkSize:y.chunkSize||1e4,error:V=>{w(V)},chunk:({data:V},Y)=>{A.pause(),Y.pause();const X=x&&V.length>0,z=(X?V.slice(1):V).map(he=>{const ge=he.map(Pe=>typeof Pe=="string"?Pe:""),_e={};return p.forEach(Pe=>{const Me=b[Pe];Me!==void 0&&(_e[Pe]=ge[Me])}),_e});X&&(x=!1);const ae={startIndex:T};T+=z.length,v(z.length),new Promise(he=>{const ge=z.length?g(z,ae):void 0;setTimeout(()=>he(ge),0)}).then(()=>{A.resume(),Y.resume()},()=>{A.resume(),Y.resume()})},complete:()=>{m()}}))})}l(11);const ee=({disabled:n,onClick:v,children:g})=>o.a.createElement("button",{className:"CSVImporter_TextButton",type:"button",disabled:n,onClick:v},g);l(12);const Te=({type:n,label:v,small:g,focusOnly:C,disabled:O,onClick:y})=>o.a.createElement("button",{className:"CSVImporter_IconButton",type:"button","aria-label":v,disabled:O,onClick:y,"data-small":!!g,"data-focus-only":!!C},o.a.createElement("span",{"data-type":n}));l(13);const xe={general:{goToPreviousStepTooltip:"Go to previous step"},fileStep:{initialDragDropPrompt:"Drag-and-drop CSV file here, or click to select in folder",activeDragDropPrompt:"Drop CSV file here...",getImportError:n=>`Import error: ${n}`,getDataFormatError:n=>`Please check data formatting: ${n}`,goBackButton:"Go Back",nextButton:"Choose columns",rawFileContentsHeading:"Raw File Contents",previewImportHeading:"Preview Import",dataHasHeadersCheckbox:"Data has headers",previewLoadingStatus:"Loading preview..."},fieldsStep:{stepSubtitle:"Select Columns",requiredFieldsError:"Please assign all required fields",nextButton:"Import",dragSourceAreaCaption:"Columns to import",getDragSourcePageIndicator:(n,v)=>`Page ${n} of ${v}`,getDragSourceActiveStatus:n=>`Assigning column ${n}`,nextColumnsTooltip:"Show next columns",previousColumnsTooltip:"Show previous columns",clearAssignmentTooltip:"Clear column assignment",selectColumnTooltip:"Select column for assignment",unselectColumnTooltip:"Unselect column",dragTargetAreaCaption:"Target fields",getDragTargetOptionalCaption:n=>`${n} (optional)`,getDragTargetRequiredCaption:n=>`${n} (required)`,dragTargetPlaceholder:"Drag column here",getDragTargetAssignTooltip:n=>`Assign column ${n}`,dragTargetClearTooltip:"Clear column assignment",columnCardDummyHeader:"Unassigned field",getColumnCardHeader:n=>`Column ${n}`},progressStep:{stepSubtitle:"Import",uploadMoreButton:"Upload More",finishButton:"Finish",statusError:"Could not import",statusComplete:"Complete",statusPending:"Importing...",processedRowsLabel:"Processed rows:"}},je={general:{goToPreviousStepTooltip:"Zum vorherigen Schritt"},fileStep:{initialDragDropPrompt:"CSV-Datei auf dieses Feld ziehen, oder klicken um eine Datei auszuwhlen",activeDragDropPrompt:"CSV-Datei auf dieses Feld ziehen...",nextButton:"Spalten auswhlen",getImportError:n=>`Fehler beim Import: ${n}`,getDataFormatError:n=>`Bitte Datenformat berprfen: ${n}`,goBackButton:"Zurck",rawFileContentsHeading:"Originaler Datei-Inhalt",previewImportHeading:"Import-Vorschau",dataHasHeadersCheckbox:"Mit Kopfzeile",previewLoadingStatus:"Vorschau wird geladen..."},fieldsStep:{stepSubtitle:"Spalten auswhlen",requiredFieldsError:"Bitte weise allen nicht optionalen Spalten einen Wert zu",nextButton:"Importieren",dragSourceAreaCaption:"Zu importierende Spalte",getDragSourcePageIndicator:(n,v)=>`Seite ${n} von ${v}`,getDragSourceActiveStatus:n=>`Spalte ${n} zuweisen`,nextColumnsTooltip:"Nchste Spalten anzeigen",previousColumnsTooltip:"Vorherige Spalten anzeigen",clearAssignmentTooltip:"Zugewiesene Spalte entfernen",selectColumnTooltip:"Spalte zum Zuweisen auswhlen",unselectColumnTooltip:"Spalte abwhlen",dragTargetAreaCaption:"Zielfelder",getDragTargetOptionalCaption:n=>`${n} (optional)`,getDragTargetRequiredCaption:n=>`${n} (erforderlich)`,dragTargetPlaceholder:"Spalte hierher ziehen",getDragTargetAssignTooltip:n=>`Spalte ${n} zuweisen`,dragTargetClearTooltip:"Zugewiesene Spalte entfernen",columnCardDummyHeader:"Nicht zugewiesenes Feld",getColumnCardHeader:n=>`Spalte ${n}`},progressStep:{stepSubtitle:"Importieren",uploadMoreButton:"Weitere hochladen",finishButton:"Abschlieen",statusError:"Konnte nicht importiert werden",statusComplete:"Fertig",statusPending:"Wird importiert...",processedRowsLabel:"Verarbeitete Zeilen:"}},Fe={general:{goToPreviousStepTooltip:"Torna indietro"},fileStep:{initialDragDropPrompt:"Trascina qui il file CSV, o clicca per selezionarlo dal PC",activeDragDropPrompt:"Rilascia qui il file CSV...",getImportError:n=>`Errore durante l'importazione: ${n}`,getDataFormatError:n=>`Si prega di controllare il formato dei dati: ${n}`,goBackButton:"Torna indietro",nextButton:"Seleziona le colonne",rawFileContentsHeading:"Contenuto delfile caricato",previewImportHeading:"Anteprima dei dati",dataHasHeadersCheckbox:"Intestazione presente nel file",previewLoadingStatus:"Caricamento anteprima..."},fieldsStep:{stepSubtitle:"Seleziona le colonne",requiredFieldsError:"Si prega di assegnare tutte le colonne richieste",nextButton:"Importa",dragSourceAreaCaption:"Colonne da importare",getDragSourcePageIndicator:(n,v)=>`Pagina ${n} di ${v}`,getDragSourceActiveStatus:n=>`Assegnamento alla colonna ${n}`,nextColumnsTooltip:"Mostra colonna successiva",previousColumnsTooltip:"Mostra colonna precedente",clearAssignmentTooltip:"Cancella tutti gli assegnamenti delle colonne",selectColumnTooltip:"Seleziona una colonna da assegnare",unselectColumnTooltip:"Deseleziona colonna",dragTargetAreaCaption:"Campi richiesti",getDragTargetOptionalCaption:n=>`${n} (opzionale)`,getDragTargetRequiredCaption:n=>`${n} (obbligatorio)`,dragTargetPlaceholder:"Trascina qui la colonna",getDragTargetAssignTooltip:n=>`Assegnamento alla colonna ${n}`,dragTargetClearTooltip:"Cancella gli assegnamenti alla colonna",columnCardDummyHeader:"Campo non assegnato",getColumnCardHeader:n=>`Column ${n}`},progressStep:{stepSubtitle:"Importa",uploadMoreButton:"Carica altri dati",finishButton:"Fine",statusError:"Errore di caricamento",statusComplete:"Completato",statusPending:"Caricamento...",processedRowsLabel:"Righe processate:"}},Ae={general:{goToPreviousStepTooltip:"Voltar a etapa anterior"},fileStep:{initialDragDropPrompt:"Arraste e solte o arquivo CSV aqui ou clique para selecionar na pasta",activeDragDropPrompt:"Arraste e solte o arquivo CSV aqui...",getImportError:n=>`Erro ao importar: ${n}`,getDataFormatError:n=>`Por favor confira a formatao dos dados: ${n}`,goBackButton:"Voltar",nextButton:"Escolher Colunas",rawFileContentsHeading:"Contedo Bruto do Arquivo",previewImportHeading:"Visualizar Importao",dataHasHeadersCheckbox:"Os dados tm cabealhos",previewLoadingStatus:"Carregando visualizao..."},fieldsStep:{stepSubtitle:"Selecionar Colunas",requiredFieldsError:"Atribua todos os campos obrigatrios",nextButton:"Importar",dragSourceAreaCaption:"Colunas para importar",getDragSourcePageIndicator:(n,v)=>`Pgina ${n} de ${v}`,getDragSourceActiveStatus:n=>`Atribuindo coluna ${n}`,nextColumnsTooltip:"Mostrar as prximas colunas",previousColumnsTooltip:"Mostrar colunas anteriores",clearAssignmentTooltip:"Limpar atribuio de coluna",selectColumnTooltip:"Selecione a coluna para atribuio",unselectColumnTooltip:"Desmarcar coluna",dragTargetAreaCaption:"Campos de destino",getDragTargetOptionalCaption:n=>`${n} (opcional)`,getDragTargetRequiredCaption:n=>`${n} (obrigatrio)`,dragTargetPlaceholder:"Arraste a coluna aqui",getDragTargetAssignTooltip:n=>`Atribuir coluna ${n}`,dragTargetClearTooltip:"Limpar atribuio de coluna",columnCardDummyHeader:"Campo no atribudo",getColumnCardHeader:n=>`Coluna ${n}`},progressStep:{stepSubtitle:"Importar",uploadMoreButton:"Carregar mais",finishButton:"Finalizar",statusError:"No foi possvel importar",statusComplete:"Completo",statusPending:"Importando...",processedRowsLabel:"Linhas processadas:"}},Le={general:{goToPreviousStepTooltip:"G til forrige trin"},fileStep:{initialDragDropPrompt:"Trk og slip CSV-fil her eller klik for at vlge fra en mappe",activeDragDropPrompt:"Slip CSV-fil her...",getImportError:n=>`Import-fejl: ${n}`,getDataFormatError:n=>`Kontrollr venligst data-formatering: ${n}`,goBackButton:"G tilbage",nextButton:"Vlg kolonner",rawFileContentsHeading:"R filindhold",previewImportHeading:"Forhndsvis Import",dataHasHeadersCheckbox:"Data sidehoved",previewLoadingStatus:"Indlser forhndsvisning..."},fieldsStep:{stepSubtitle:"Vlg kolonner",requiredFieldsError:"Tildel venligst alle pkrvede felter",nextButton:"Importr",dragSourceAreaCaption:"Kolonner til import",getDragSourcePageIndicator:(n,v)=>`Side ${n} af ${v}`,getDragSourceActiveStatus:n=>`Tildeler kolonne ${n}`,nextColumnsTooltip:"Vis nste kolonner",previousColumnsTooltip:"Vis forrige kolonner",clearAssignmentTooltip:"Ryd kolonne-tildeling",selectColumnTooltip:"Vlg kolonne til tildeling",unselectColumnTooltip:"Fravlg kolonne",dragTargetAreaCaption:"Ml-felter",getDragTargetOptionalCaption:n=>`${n} (valgfri)`,getDragTargetRequiredCaption:n=>`${n} (pkrvet)`,dragTargetPlaceholder:"Trk kolonne hertil",getDragTargetAssignTooltip:n=>`Tildel kolonne ${n}`,dragTargetClearTooltip:"Ryd kolonne-tildeling",columnCardDummyHeader:"Disponibelt felt",getColumnCardHeader:n=>`Column ${n}`},progressStep:{stepSubtitle:"Importr",uploadMoreButton:"Upload Mere",finishButton:"Frdiggr",statusError:"Kunne ikke importere",statusComplete:"Frdig",statusPending:"Importerer...",processedRowsLabel:"Processerede rkker:"}},M={general:{goToPreviousStepTooltip:"Bir nceki adma geri dn"},fileStep:{initialDragDropPrompt:"CSV dosyasn srkleyin veya kutunun iine tklayp dosyay sein",activeDragDropPrompt:"CSV dosyasn buraya brakn...",getImportError:n=>`Import hatas: ${n}`,getDataFormatError:n=>`Ltfen veri formatn kontrol edin: ${n}`,goBackButton:"Geri",nextButton:"Kolonlar Se",rawFileContentsHeading:"CSV dosyas ierii",previewImportHeading:"Import nizleme",dataHasHeadersCheckbox:"Veride balklar var",previewLoadingStatus:"nizleme ykleniyor..."},fieldsStep:{stepSubtitle:"Kolonlar sein",requiredFieldsError:"Ltfen zorunlu tm alanlar doldurun.",nextButton:"Import",dragSourceAreaCaption:"Import edilecek kolonlar",getDragSourcePageIndicator:(n,v)=>`${v} sayfadan ${n}. sayfadasnz`,getDragSourceActiveStatus:n=>`${n}. kolon atanyor`,nextColumnsTooltip:"Sradaki kolonlar gster",previousColumnsTooltip:"nceki kolonlar gster",clearAssignmentTooltip:"Kolon atamay temizle",selectColumnTooltip:"Atamak iin kolon seiniz",unselectColumnTooltip:"Kolonu semeyi brak",dragTargetAreaCaption:"Hedef alanlar",getDragTargetOptionalCaption:n=>`${n} (opsiyonel)`,getDragTargetRequiredCaption:n=>`${n} (zorunlu)`,dragTargetPlaceholder:"Kolonu buraya srkle",getDragTargetAssignTooltip:n=>`${n}. kolonu ata`,dragTargetClearTooltip:"Kolon atamay temizle",columnCardDummyHeader:"Atanmam alan",getColumnCardHeader:n=>`Kolon ${n}`},progressStep:{stepSubtitle:"Import",uploadMoreButton:"Sonrakileri ykle",finishButton:"Bitir",statusError:"Import edilemedi",statusComplete:"Tamamland",statusPending:"Import ediliyor...",processedRowsLabel:"lenen satr says:"}},S=o.a.createContext(xe);function D(n){return Object(i.useContext)(S)[n]}const u=({fileName:n,subtitle:v,secondaryDisabled:g,secondaryLabel:C,nextDisabled:O,nextLabel:y,error:b,onSecondary:p,onNext:m,onCancel:w,children:x})=>{const T=Object(i.useRef)(null),A=Object(i.useRef)(null);Object(i.useEffect)(()=>{A.current?A.current.focus():T.current&&T.current.focus()},[]);const V=D("general");return o.a.createElement("div",{className:"CSVImporter_ImporterFrame"},o.a.createElement("div",{className:"CSVImporter_ImporterFrame__header"},o.a.createElement(Te,{label:V.goToPreviousStepTooltip,type:"arrowBack",disabled:!w,onClick:w}),o.a.createElement("div",{className:"CSVImporter_ImporterFrame__headerTitle",tabIndex:-1,ref:T},n),v?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"CSVImporter_ImporterFrame__headerCrumbSeparator"},o.a.createElement("span",null)),o.a.createElement("div",{className:"CSVImporter_ImporterFrame__headerSubtitle",tabIndex:-1,ref:A},v)):null),x,o.a.createElement("div",{className:"CSVImporter_ImporterFrame__footer"},o.a.createElement("div",{className:"CSVImporter_ImporterFrame__footerFill"}),b?o.a.createElement("div",{className:"CSVImporter_ImporterFrame__footerError",role:"status"},b):null,C?o.a.createElement("div",{className:"CSVImporter_ImporterFrame__footerSecondary"},o.a.createElement(ee,{disabled:!!g,onClick:p},C)):null,y!==!1?o.a.createElement("div",{className:"CSVImporter_ImporterFrame__footerNext"},o.a.createElement(ee,{disabled:!!O,onClick:m},y)):null))};var c=l(8);l(14);const h=({onSelected:n})=>{const v=Object(i.useRef)(n);v.current=n;const g=Object(i.useCallback)(p=>{if(p.length<1)return;const m=p[0];v.current(m)},[]),{getRootProps:C,getInputProps:O,isDragActive:y}=Object(c.useDropzone)({onDrop:g}),b=D("fileStep");return o.a.createElement("div",Object.assign({className:"CSVImporter_FileSelector","data-active":!!y},C()),o.a.createElement("input",Object.assign({},O())),y?o.a.createElement("span",null,b.activeDragDropPrompt):o.a.createElement("span",null,b.initialDragDropPrompt))};l(15);const _=o.a.memo(({onCancelClick:n,children:v})=>{const g=D("fileStep");return o.a.createElement("div",{className:"CSVImporter_FormatErrorMessage"},o.a.createElement("span",null,v),o.a.createElement(ee,{onClick:n},g.goBackButton))});l(16);const I=500,F=o.a.memo(({chunk:n,warning:v,onCancelClick:g})=>{const C=n.slice(0,I),O=n.length>I,y=D("fileStep");return o.a.createElement("div",{className:"CSVImporter_FormatRawPreview"},o.a.createElement("div",{className:"CSVImporter_FormatRawPreview__scroll"},o.a.createElement("pre",{className:"CSVImporter_FormatRawPreview__pre"},C,O&&o.a.createElement("aside",null,"..."))),v?o.a.createElement(_,{onCancelClick:g},y.getDataFormatError(v.message||String(v))):null)});l(17);const N=o.a.memo(({hasHeaders:n,rows:v})=>{const g=n?v[0]:null,C=n?v.slice(1):v;return o.a.createElement("div",{className:"CSVImporter_FormatDataRowPreview"},o.a.createElement("table",{className:"CSVImporter_FormatDataRowPreview__table"},g&&o.a.createElement("thead",null,o.a.createElement("tr",null,g.map((O,y)=>o.a.createElement("th",{key:y},O)))),o.a.createElement("tbody",null,C.map((O,y)=>o.a.createElement("tr",{key:y},O.map((b,p)=>o.a.createElement("td",{key:p},b)))))))});l(18);const W=({customConfig:n,defaultNoHeader:v,prevState:g,onChange:C,onAccept:O})=>{const y=D("fileStep"),[b,p]=Object(i.useState)(g?g.file:null),[m,w]=Object(i.useState)(()=>g&&Object.assign({parseError:void 0},g)),[x,T]=Object(i.useState)(g?g.papaParseConfig:n),[A,V]=Object(i.useState)(g?g.hasHeaders:!1),Y=Object(i.useRef)(n);Y.current=n;const X=Object(i.useRef)(v);X.current=v;const z=Object(i.useRef)(C);z.current=C,Object(i.useEffect)(()=>{z.current(m&&!m.parseError?Object.assign(Object.assign({},m),{papaParseConfig:x,hasHeaders:A}):null)},[m,x,A]);const ae=Object(i.useRef)(0);Object(i.useEffect)(()=>{if(!b){w(null);return}if(m&&m.file===b)return;const he=ae.current,ge=Y.current;return Ee(b,ge).then(_e=>{he===ae.current&&(w(_e),T(ge),V(_e.parseError?!1:!X.current&&!_e.isSingleLine))}),()=>{ae.current+=1}},[b,m]);const pe=Object(i.useMemo)(()=>m?m.parseError?o.a.createElement("div",{className:"CSVImporter_FileStep__mainResultBlock"},o.a.createElement(_,{onCancelClick:()=>p(null)},y.getImportError(m.parseError.message||String(m.parseError)))):o.a.createElement("div",{className:"CSVImporter_FileStep__mainResultBlock"},o.a.createElement("div",{className:"CSVImporter_FileStep__header"},y.rawFileContentsHeading),o.a.createElement(F,{chunk:m.firstChunk,warning:m.parseWarning,onCancelClick:()=>p(null)}),m.parseWarning?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"CSVImporter_FileStep__header"},y.previewImportHeading,!m.isSingleLine&&o.a.createElement("label",{className:"CSVImporter_FileStep__headerToggle"},o.a.createElement("input",{type:"checkbox",checked:A,onChange:()=>{V(he=>!he)}}),o.a.createElement("span",null,y.dataHasHeadersCheckbox))),o.a.createElement(N,{hasHeaders:A,rows:m.firstRows}))):null,[m,A,y]);return b?o.a.createElement(u,{fileName:b.name,nextDisabled:!m||!!m.parseError||!!m.parseWarning,onNext:()=>{if(!m||m.parseError)throw new Error("unexpected missing preview info");O()},onCancel:()=>p(null),nextLabel:y.nextButton},pe||o.a.createElement("div",{className:"CSVImporter_FileStep__mainPendingBlock"},y.previewLoadingStatus)):o.a.createElement(h,{onSelected:he=>p(he)})};function ne(n){if(n<0)return"";let v=1,g=0,C=26;for(;C<=n;)v+=1,g=C,C=C*26+26;let O=n-g;const y=[];for(;y.length<v;){const b=O%26;O=Math.floor((O-b)/26),y.unshift(65+b)}return String.fromCharCode.apply(null,y)}function B(n,v){return[...new Array(n[0].length)].map((C,O)=>{const y=n.map(p=>p[O]||""),b=v?y.shift():void 0;return{index:O,header:b,values:y}})}var ce=l(10);function K(n){const v=Object(i.useRef)(n);v.current=n;const[g,C]=Object(i.useState)(null),O=Object(i.useCallback)((T,A,V)=>{C({pointerStartInfo:{initialClientRect:V},column:T,dropFieldName:A!==void 0?A:null,updateListeners:[]})},[]),y=Object(i.useCallback)(T=>{if(g){const A=g.updateListeners;for(const V of A)V(T)}},[g]),b=Object(i.useCallback)(()=>{C(null),g&&v.current(g.column,g.dropFieldName)},[g]),p=Object(i.useCallback)(T=>{C(A=>A&&A.column===T?null:{pointerStartInfo:null,column:T,dropFieldName:null,updateListeners:[]})},[]),m=Object(i.useCallback)((T,A)=>{C(V=>V&&(A?Object.assign(Object.assign({},V),{dropFieldName:T}):V.dropFieldName===T?Object.assign(Object.assign({},V),{dropFieldName:null}):V))},[]),w=Object(i.useCallback)(T=>{C(null),g&&v.current(g.column,T)},[g]),x=Object(i.useCallback)(T=>{C(null),v.current(T,null)},[]);return{dragState:g,dragStartHandler:O,dragMoveHandler:y,dragEndHandler:b,dragHoverHandler:m,columnSelectHandler:p,assignHandler:w,unassignHandler:x}}var Oe=l(9);l(19);const oe=({hasHeaders:n,column:v,rowCount:g=E,hasError:C,isAssigned:O,isShadow:y,isDraggable:b,isDragged:p,isDropIndicator:m})=>{const w=!v,x=Object(i.useMemo)(()=>v||{index:-1,code:"",header:n?"":void 0,values:[...new Array(E)].map(()=>"")},[v,n]),T=x.header,A=x.values.slice(0,T===void 0?g:g-1),V=D("fieldsStep");return o.a.createElement("div",{key:w||y?1:m?2:0,className:"CSVImporter_ColumnDragCard","data-dummy":!!w,"data-error":!!C,"data-shadow":!!y,"data-draggable":!!b,"data-dragged":!!p,"data-drop-indicator":!!m},o.a.createElement("div",{className:"CSVImporter_ColumnDragCard__cardHeader"},w?o.a.createElement("var",{role:"text"},V.columnCardDummyHeader):o.a.createElement("var",{role:"text"},V.getColumnCardHeader(x.code)),w||O?"":o.a.createElement("b",{"aria-hidden":!0},x.code)),T!==void 0?o.a.createElement("div",{className:"CSVImporter_ColumnDragCard__cardValue","data-header":!0},T||""):null,o.a.createElement("div",{role:"text"},A.map((Y,X)=>o.a.createElement("div",{key:X,className:"CSVImporter_ColumnDragCard__cardValue"},Y||""))))};l(20);const H=({dragState:n})=>{const v=Object(i.useRef)(null),g=Object(i.useRef)(null),C=n&&n.pointerStartInfo?Object(Oe.createPortal)(o.a.createElement("div",{className:"CSVImporter_ColumnDragObject__overlay"},o.a.createElement("div",{className:"CSVImporter_ColumnDragObject__positioner",ref:g},o.a.createElement("div",{className:"CSVImporter_ColumnDragObject__holder"},o.a.createElement(oe,{column:n.column,isDragged:!0})))),document.body):null,O=n&&n.pointerStartInfo;return Object(i.useLayoutEffect)(()=>{if(!O||!g.current)return;const y=O.initialClientRect;if(g.current.style.left=`${y.left}px`,g.current.style.top=`${y.top}px`,g.current.style.width=`${y.width}px`,g.current.style.height=`${y.height}px`,v.current){const b=window.getComputedStyle(v.current);g.current.style.fontFamily=b.fontFamily,g.current.style.fontSize=b.fontSize,g.current.style.fontWeight=b.fontWeight,g.current.style.fontStyle=b.fontStyle,g.current.style.letterSpacing=b.letterSpacing}},[O]),Object(i.useLayoutEffect)(()=>{if(n){const y=b=>{if(!g.current)return;const[p,m]=b;g.current.style.transform=`translate(${p}px, ${m}px)`};return n.updateListeners.push(y),()=>{const b=n.updateListeners.indexOf(y);b!==-1&&n.updateListeners.splice(b,1)}}},[n]),o.a.createElement("div",{ref:v},C)};l(21);const ie=5,Se=({column:n,fieldAssignments:v,dragState:g,eventBinder:C,onSelect:O,onUnassign:y})=>{const b=g?n===g.column:!1,p=Object(i.useMemo)(()=>Object.keys(v).some(x=>v[x]===n.index),[v,n]),m=Object(i.useMemo)(()=>C(n),[C,n]),w=D("fieldsStep");return o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__box"},o.a.createElement("div",Object.assign({},p?{}:m,{style:{touchAction:"none"}}),o.a.createElement(oe,{column:n,isAssigned:p,isShadow:b||p,isDraggable:!g&&!b&&!p})),o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__boxAction"},p?o.a.createElement(Te,{key:"clear",label:w.clearAssignmentTooltip,small:!0,type:"replay",onClick:()=>{y(n)}}):o.a.createElement(Te,{key:"dragSelect",focusOnly:!0,label:g&&g.column===n?w.unselectColumnTooltip:w.selectColumnTooltip,small:!0,type:"back",onClick:()=>{O(n)}})))},te=({columns:n,columnPageSize:v,fieldAssignments:g,dragState:C,eventBinder:O,onSelect:y,onUnassign:b})=>{const p=Math.round(Math.max(1,v??ie)),[m,w]=Object(i.useState)(0),[x,T]=Object(i.useState)(!1),A=Math.floor(m/p),V=Math.ceil(n.length/p),Y=n.slice(A*p,(A+1)*p).map((z,ae)=>o.a.createElement(Se,{key:ae,column:z,fieldAssignments:g,dragState:C,eventBinder:O,onSelect:y,onUnassign:b}));for(;Y.length<p;)Y.push(o.a.createElement("div",{key:Y.length,className:"CSVImporter_ColumnDragSourceArea__pageFiller"}));const X=D("fieldsStep");return o.a.createElement("section",{className:"CSVImporter_ColumnDragSourceArea","aria-label":X.dragSourceAreaCaption},o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__control"},o.a.createElement(Te,{label:X.previousColumnsTooltip,type:"back",disabled:A===0,onClick:()=>{w(z=>Math.max(0,Math.floor(z/p)-1)*p),T(!0)}})),o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__page"},C&&!C.pointerStartInfo?o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__pageIndicator",role:"status"},X.getDragSourceActiveStatus(C.column.code)):V>1&&o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__pageIndicator",role:x?"status":"text"},X.getDragSourcePageIndicator(A+1,V)),Y),o.a.createElement("div",{className:"CSVImporter_ColumnDragSourceArea__control"},o.a.createElement(Te,{label:X.nextColumnsTooltip,type:"forward",disabled:A>=V-1,onClick:()=>{w(z=>Math.min(V-1,Math.floor(z/p)+1)*p)}})))};l(22);const ue=({field:n,hasHeaders:v,flexBasis:g,touched:C,assignedColumn:O,dragState:y,eventBinder:b,onHover:p,onAssign:m,onUnassign:w})=>{const x=Object(i.useRef)(null),T=y&&y.dropFieldName===n.name?y.column:null,A=y?y.column===O:!1,V=Object(i.useMemo)(()=>O&&!A?b(O,n.name):{},[b,O,A,n.name]),Y=Object(i.useMemo)(()=>{if(T)return o.a.createElement(oe,{rowCount:3,column:T,isDropIndicator:!0});if(O)return o.a.createElement(oe,{rowCount:3,column:O,isShadow:A,isDraggable:!A});const z=C&&!n.isOptional;return o.a.createElement(oe,{rowCount:3,hasHeaders:v,hasError:z})},[v,n,C,O,T,A]),X=D("fieldsStep");return o.a.createElement("section",{className:"CSVImporter_ColumnDragTargetArea__box","aria-label":n.isOptional?X.getDragTargetOptionalCaption(n.label):X.getDragTargetRequiredCaption(n.label),ref:x,style:{flexBasis:g},onPointerEnter:()=>p(n.name,!0),onPointerLeave:()=>p(n.name,!1)},o.a.createElement("div",{className:"CSVImporter_ColumnDragTargetArea__boxLabel","aria-hidden":!0},n.label,n.isOptional?null:o.a.createElement("b",null,"*")),o.a.createElement("div",{className:"CSVImporter_ColumnDragTargetArea__boxValue"},!T&&!O&&o.a.createElement("div",{className:"CSVImporter_ColumnDragTargetArea__boxPlaceholderHelp","aria-hidden":!0},X.dragTargetPlaceholder),o.a.createElement("div",Object.assign({},V,{style:{touchAction:"none"}}),Y),y&&!y.pointerStartInfo?o.a.createElement("div",{className:"CSVImporter_ColumnDragTargetArea__boxValueAction"},o.a.createElement(Te,{label:X.getDragTargetAssignTooltip(y.column.code),small:!0,type:"forward",onClick:()=>m(n.name)})):!T&&O&&o.a.createElement("div",{className:"CSVImporter_ColumnDragTargetArea__boxValueAction"},o.a.createElement(Te,{label:X.dragTargetClearTooltip,small:!0,type:"close",onClick:()=>w(O)}))))},de=({hasHeaders:n,fields:v,columns:g,fieldRowSize:C,fieldTouched:O,fieldAssignments:y,dragState:b,eventBinder:p,onHover:m,onAssign:w,onUnassign:x})=>{const T=D("fieldsStep"),A=C?`${100/C}%`:void 0;return o.a.createElement("section",{className:"CSVImporter_ColumnDragTargetArea","aria-label":T.dragTargetAreaCaption},v.map(V=>{const Y=y[V.name];return o.a.createElement(ue,{key:V.name,field:V,flexBasis:A,touched:O[V.name],hasHeaders:n,assignedColumn:Y!==void 0?g[Y]:null,dragState:b,eventBinder:p,onHover:m,onAssign:w,onUnassign:x})}))},fe=({fields:n,displayColumnPageSize:v,displayFieldRowSize:g,fileState:C,prevState:O,onChange:y,onAccept:b,onCancel:p})=>{const m=D("fieldsStep"),w=Object(i.useRef)(y);w.current=y;const x=Object(i.useMemo)(()=>B(C.firstRows,C.hasHeaders).map(J=>Object.assign(Object.assign({},J),{code:ne(J.index)})),[C]),[T,A]=Object(i.useState)(O?O.fieldAssignments:{});Object(i.useEffect)(()=>{const J=Object.keys(T).filter(Z=>!n.some(G=>G.name===Z));J.length>0&&A(Z=>{const G=Object.assign({},Z);return J.forEach(f=>{delete G[f]}),G})},[n,T]),Object(i.useEffect)(()=>{var J;const Z={};for(const G of x){const f=((J=G.header)===null||J===void 0?void 0:J.trim().toLowerCase())||void 0;f&&(Z[f]=G.index)}A(G=>{const f=x.map(()=>!1);for(const t of Object.keys(G)){const d=G[t];d!==void 0&&(f[d]=!0)}const e=Object.assign({},G);for(const t of n){if(e[t.name]!==void 0)continue;const d=t.label.trim().toLowerCase(),R=Z[d];R!==void 0&&(f[R]||(e[t.name]=R))}return e})},[n,x]);const[V,Y]=Object(i.useState)({}),[X,z]=Object(i.useState)(null);Object(i.useEffect)(()=>{Y(J=>{const Z={};for(const G of n)Z[G.name]=J[G.name];return Z})},[n]);const{dragState:ae,dragStartHandler:pe,dragMoveHandler:he,dragEndHandler:ge,dragHoverHandler:_e,columnSelectHandler:Pe,assignHandler:Me,unassignHandler:Re}=K((J,Z)=>{A(G=>{const f=Object.keys(G).find(t=>G[t]===J.index);if(f===void 0&&Z===null)return G;const e=Object.assign({},G);return f&&delete e[f],Z!==null&&(e[Z]=J.index),e}),Z&&Y(G=>G[Z]?G:Object.assign(Object.assign({},G),{[Z]:!0}))}),Be=Object(ce.useDrag)(({first:J,last:Z,movement:G,xy:f,args:e,currentTarget:t})=>{if(J){const[d,R]=e,re=t instanceof HTMLElement?t.getBoundingClientRect():new DOMRect(f[0],f[1],0,0);pe(d,R,re)}else Z?ge():he(G)},{pointer:{capture:!1}});return Object(i.useEffect)(()=>{if(ae)document.body.classList.add("CSVImporter_dragging");else{const J=setTimeout(()=>{document.body.classList.remove("CSVImporter_dragging")},200);return()=>{clearTimeout(J),document.body.classList.remove("CSVImporter_dragging")}}},[ae]),Object(i.useEffect)(()=>{w.current({fieldAssignments:Object.assign({},T)})},[T]),o.a.createElement(u,{fileName:C.file.name,subtitle:m.stepSubtitle,error:X,onCancel:p,onNext:()=>{const J={};n.forEach(G=>{J[G.name]=!0}),Y(J),n.some(G=>!G.isOptional&&T[G.name]===void 0)?z(m.requiredFieldsError):b()},nextLabel:m.nextButton},o.a.createElement(te,{columns:x,columnPageSize:v,fieldAssignments:T,dragState:ae,eventBinder:Be,onSelect:Pe,onUnassign:Re}),o.a.createElement(de,{hasHeaders:C.hasHeaders,fieldRowSize:g,fields:n,columns:x,fieldTouched:V,fieldAssignments:T,dragState:ae,eventBinder:Be,onHover:_e,onAssign:Me,onUnassign:Re}),o.a.createElement(H,{dragState:ae}))};l(23);function $(n){return encodeURIComponent(n).replace(/%\d\d/g,"_").length}function q({fileState:n,fieldsState:v,externalPreview:g,dataHandler:C,onStart:O,onComplete:y,onRestart:b,onClose:p}){const[m,w]=Object(i.useState)(0),[x,T]=Object(i.useState)(!1),[A,V]=Object(i.useState)(null),[Y,X]=Object(i.useState)(!1),z=Object(i.useMemo)(()=>{const Z=Object.keys(v.fieldAssignments),G=[];return Z.forEach(f=>{const e=v.fieldAssignments[f];e!==void 0&&(G[e]=f)}),{file:n.file,preview:g,fields:Z,columnFields:[...G]}},[n,v,g]),ae=Object(i.useMemo)(()=>{const G=n.firstRows.reduce((f,e)=>{const t=e.reduce((d,R)=>d+$(R)+1,0);return f+t},0)/n.firstRows.length;return G>1?n.file.size/G:100},[n]),pe=Object(i.useRef)(O);Object(i.useEffect)(()=>{pe.current&&pe.current(z)},[z]);const he=Object(i.useRef)(y);he.current=y,Object(i.useEffect)(()=>{x&&he.current&&he.current(z)},[z,x]);const ge=Object(i.useRef)(null);Object(i.useEffect)(()=>{(x||A)&&ge.current&&ge.current.focus()},[x,A]);const[_e,Pe]=Object(i.useState)(!1);Object(i.useEffect)(()=>{Pe(!0)},[]);const Me=Object(i.useRef)(C),Re=Object(i.useRef)(0);Object(i.useEffect)(()=>{if(!_e)return;const Z=Re.current;return we(Object.assign(Object.assign({},n),{fieldAssignments:v.fieldAssignments}),G=>{Z===Re.current&&w(f=>f+G)},Me.current).then(()=>{Z===Re.current&&T(!0)},G=>{Z===Re.current&&V(G)}),()=>{Re.current+=1}},[_e,n,v]);const Be=Object(i.useMemo)(()=>{if(x)return 100;const Z=2.5*(m/ae),G=Math.pow(.5,Z);return Math.floor(1e3-1e3*G)/10},[ae,m,x]),J=D("progressStep");return o.a.createElement(u,{fileName:n.file.name,subtitle:J.stepSubtitle,error:A&&(A.message||String(A)),secondaryDisabled:!x||Y,secondaryLabel:b&&p?J.uploadMoreButton:void 0,onSecondary:b&&p?b:void 0,nextDisabled:!x||Y,nextLabel:!!(p||b)&&(p?J.finishButton:J.uploadMoreButton),onNext:()=>{p?(X(!0),p(z)):b&&b()}},o.a.createElement("div",{className:"CSVImporter_ProgressDisplay"},x||A?o.a.createElement("div",{className:"CSVImporter_ProgressDisplay__status",role:"status",tabIndex:-1,ref:ge},A?J.statusError:J.statusComplete):o.a.createElement("div",{className:"CSVImporter_ProgressDisplay__status -pending",role:"status"},J.statusPending),o.a.createElement("div",{className:"CSVImporter_ProgressDisplay__count",role:"text"},o.a.createElement("var",null,J.processedRowsLabel)," ",m),o.a.createElement("div",{className:"CSVImporter_ProgressDisplay__progressBar"},o.a.createElement("div",{className:"CSVImporter_ProgressDisplay__progressBarIndicator",style:{width:`${Be}%`}}))))}const se=o.a.createContext(null);function me(){const[n,v]=Object(i.useState)([]);return[n,C=>o.a.createElement(se.Provider,{value:v},C)]}const Q=({name:n,label:v,optional:g})=>{const C=Object(i.useMemo)(()=>Symbol("internal unique field ID"),[]),O=Object(i.useContext)(se);return Object(i.useEffect)(()=>{if(!O){console.error("importer field must be a child of importer");return}O(y=>{const b=[...y],p=b.findIndex(w=>w.instanceId===C),m={instanceId:C,name:n,label:v,isOptional:!!g};return p===-1?b.push(m):b[p]=m,b})},[C,O,n,v,g]),Object(i.useEffect)(()=>{if(!O){console.error("importer field must be a child of importer");return}return()=>{O(y=>y.filter(b=>b.instanceId!==C))}},[C,O]),null};l(24);var Ce=function(n,v){var g={};for(var C in n)Object.prototype.hasOwnProperty.call(n,C)&&v.indexOf(C)<0&&(g[C]=n[C]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,C=Object.getOwnPropertySymbols(n);O<C.length;O++)v.indexOf(C[O])<0&&Object.prototype.propertyIsEnumerable.call(n,C[O])&&(g[C[O]]=n[C[O]]);return g};function le(n){const{dataHandler:v,processChunk:g,defaultNoHeader:C,assumeNoHeaders:O,restartable:y,displayFieldRowSize:b,displayColumnPageSize:p,onStart:m,onComplete:w,onClose:x,children:T,locale:A}=n,V=Ce(n,["dataHandler","processChunk","defaultNoHeader","assumeNoHeaders","restartable","displayFieldRowSize","displayColumnPageSize","onStart","onComplete","onClose","children","locale"]),[Y,X]=me(),[z,ae]=Object(i.useState)(null),[pe,he]=Object(i.useState)(!1),[ge,_e]=Object(i.useState)(null),[Pe,Me]=Object(i.useState)(!1),Re=z&&z.file;Object(i.useEffect)(()=>{Re&&_e(null)},[Re]);const Be=Object(i.useMemo)(()=>{const Z=z&&B(z.firstRows,z.hasHeaders);return z&&Z&&{rawData:z.firstChunk,columns:Z,skipHeaders:!z.hasHeaders,parseWarning:z.parseWarning}},[z]),J=A??xe;return!pe||z===null||Be===null?o.a.createElement(S.Provider,{value:J},o.a.createElement("div",{className:"CSVImporter_Importer"},o.a.createElement(W,{customConfig:V,defaultNoHeader:C??O,prevState:z,onChange:Z=>{ae(Z)},onAccept:()=>{he(!0)}}))):!Pe||ge===null?o.a.createElement(S.Provider,{value:J},o.a.createElement("div",{className:"CSVImporter_Importer"},o.a.createElement(fe,{fileState:z,fields:Y,prevState:ge,displayFieldRowSize:b,displayColumnPageSize:p,onChange:Z=>{_e(Z)},onAccept:()=>{Me(!0)},onCancel:()=>{he(!1)}}),X(typeof T=="function"?T({file:z&&z.file,preview:Be}):T))):o.a.createElement(S.Provider,{value:J},o.a.createElement("div",{className:"CSVImporter_Importer"},o.a.createElement(q,{fileState:z,fieldsState:ge,externalPreview:Be,dataHandler:v??g,onStart:m,onRestart:y?()=>{ae(null),he(!1),_e(null),Me(!1)}:void 0,onComplete:w,onClose:x})))}}])})(_t);var Ot=_t.exports;const cn=Qt("/crm/dashboard/import")({component:on});function on(){const{queryClient:r}=sr(),a=Jt(),s=er.use.sortByCreatedDesc(),{toast:l}=ir(),i=tr(),o=or({mutationFn:nr}),L=(E,{startIndex:P})=>{o.mutate(E),a.invalidate(),r.invalidateQueries({queryKey:["clients"]})},j=()=>{i({to:"/crm/dashboard/"})},k=()=>{s(),l({description:"Successfully imported"})};return Je.jsx(Je.Fragment,{children:Je.jsx(Ot.Importer,{dataHandler:L,onComplete:k,onClose:j,defaultNoHeader:!1,restartable:!0,children:rr.map(([E,P])=>Je.jsx(Ot.ImporterField,{name:E,label:E,optional:P},E))})})}export{cn as Route};
