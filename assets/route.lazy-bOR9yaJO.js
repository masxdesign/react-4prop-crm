import{j as e,t as m,c as d,v as u}from"./index-GW0cDr1L.js";import{F as x,a as p,b as h,c as j,I as g,d as f,e as F,f as b,g as l,u as y,h as w,o as N}from"./input-8u8XU7ok.js";import{B as v}from"./button-05cvtyaI.js";import{u as S}from"./useMutation-kdKJM64z.js";const i=({form:r,name:o,label:s,inputType:a,placeholder:n,description:t})=>e.jsx(x,{control:r.control,name:o,render:({field:c})=>e.jsxs(p,{children:[e.jsx(h,{className:"sr-only",children:s}),e.jsx(j,{children:e.jsx(g,{type:a,placeholder:n,...c})}),t&&e.jsx(f,{children:t}),e.jsx(F,{})]})}),E=b({email:l().required(),password:l().required()}),L={email:"",password:""},I=({onSuccess:r})=>{const o=m.use.login(),s=y({resolver:N(E),defaultValues:L}),{formState:{errors:a}}=s,{mutate:n,isPending:t}=S({mutationFn:o,onSuccess:r,onError:c=>{s.setError("root",{type:"server",message:c.message})}});return e.jsx(w,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(n),className:"space-y-2",children:[a.root&&e.jsx("p",{children:a.root.message}),e.jsx(i,{form:s,name:"email",label:"Email",placeholder:"Email"}),e.jsx(i,{form:s,name:"password",inputType:"password",label:"Password",placeholder:"Password"}),e.jsx(v,{type:"submit",className:"w-full",children:t?"Pending...":"Login"})]})})},P=d("/crm/login")({component:R});function R(){const r=u(),o=P.useSearch(),s=()=>{r({to:o.redirect})};return e.jsx("div",{className:"container h-[800px] flex items-center justify-center",children:e.jsxs("div",{className:"w-[400px] mx-auto space-y-6 rounded-[0.5rem] border bg-background shadow-md md:shadow-xl p-8",children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Sign in"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your credentials to access your account"})]}),e.jsx(I,{onSuccess:s})]})})}export{P as Route};
