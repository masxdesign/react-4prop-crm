import{r as t,j as l,u as je,a as Me,b as Oe,d as Ke,f as ce,$ as Ve,e as le,g as He,h as U,_ as L,i as ue,k as We,l as Ue,m as G,n as S,o as Xe,p as Be,q as Ye,s as qe,c as ze,t as Ge,v as Je,O as Qe}from"./index-GW0cDr1L.js";import{c as X,a as Ze,B as et}from"./button-05cvtyaI.js";import{$ as tt}from"./createLucideIcon-3Fzc_Yj1.js";import{$ as ot,X as rt}from"./x-Mgmnop2g.js";import{u as nt}from"./use-toast-crDYWbBE.js";const st="Error preloading route! ☝️";function at(e){const o=je(),r=Me({strict:!1,select:v=>v.pathname}),{activeProps:n=()=>({className:"active"}),inactiveProps:i=()=>({}),activeOptions:d,hash:f,search:b,params:x,to:a,state:P,mask:y,preload:O,preloadDelay:_,replace:D,startTransition:p,resetScroll:c,children:h,target:u,disabled:m,style:$,className:w,onClick:T,onFocus:C,onMouseEnter:k,onMouseLeave:F,onTouchStart:H,...A}=e,R={from:e.to?r:void 0,...e};let j="internal";try{new URL(`${a}`),j="external"}catch{}if(j==="external")return{...A,type:j,href:a,children:h,target:u,disabled:m,style:$,className:w,onClick:T,onFocus:C,onMouseEnter:k,onMouseLeave:F,onTouchStart:H};const s=o.buildLocation(R),g=O??o.options.defaultPreload,N=_??o.options.defaultPreloadDelay??0,I=Oe({select:v=>{const E=v.location.pathname.split("/"),De=s.pathname.split("/").every((Le,ke)=>Le===E[ke]),Fe=d!=null&&d.exact?v.location.pathname===s.pathname:De,Ae=d!=null&&d.includeHash?v.location.hash===s.hash:!0,Ie=(d==null?void 0:d.includeSearch)??!0?Ke(v.location.search,s.search,!(d!=null&&d.exact)):!0;return Fe&&Ae&&Ie}}),K=v=>{!m&&!it(v)&&!v.defaultPrevented&&(!u||u==="_self")&&v.button===0&&(v.preventDefault(),o.commitLocation({...s,replace:D,resetScroll:c,startTransition:p}))},V=()=>{t.startTransition(()=>{o.preloadRoute(R).catch(v=>{console.warn(v),console.warn(st)})})},Y=v=>{g&&V()},Z=Y,B=v=>{const E=v.target||{};if(g){if(E.preloadTimeout)return;E.preloadTimeout=setTimeout(()=>{E.preloadTimeout=null,V()},N)}},W=v=>{const E=v.target||{};E.preloadTimeout&&(clearTimeout(E.preloadTimeout),E.preloadTimeout=null)},M=v=>E=>{E.persist&&E.persist(),v.filter(Boolean).forEach(ae=>{E.defaultPrevented||ae(E)})},ee=I?ce(n,{})??{}:{},te=I?{}:ce(i,{})??{};return{...ee,...te,...A,href:m?void 0:s.maskedLocation?s.maskedLocation.href:s.href,onClick:M([T,K]),onFocus:M([C,Y]),onMouseEnter:M([k,B]),onMouseLeave:M([F,W]),onTouchStart:M([H,Z]),target:u,style:{...$,...ee.style,...te.style},className:[w,ee.className,te.className].filter(Boolean).join(" ")||void 0,...m?{role:"link","aria-disabled":!0}:void 0,"data-status":I?"active":void 0}}const q=t.forwardRef((e,o)=>{const{type:r,...n}=at(e),i=typeof e.children=="function"?e.children({isActive:n["data-status"]==="active"}):e.children;return r==="external"?l.jsx("a",{...n,ref:o,children:i}):l.jsx(ct,{...n,ref:o,children:i})}),ct=t.forwardRef((e,o)=>l.jsx("a",{ref:o,...e}));function it(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const pe="ToastProvider",[se,dt,lt]=tt("Toast"),[fe,Ht]=Ve("Toast",[lt]),[ut,J]=fe(pe),me=e=>{const{__scopeToast:o,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:f}=e,[b,x]=t.useState(null),[a,P]=t.useState(0),y=t.useRef(!1),O=t.useRef(!1);return t.createElement(se.Provider,{scope:o},t.createElement(ut,{scope:o,label:r,duration:n,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:b,onViewportChange:x,onToastAdd:t.useCallback(()=>P(_=>_+1),[]),onToastRemove:t.useCallback(()=>P(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:O},f))};me.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const o=`Invalid prop \`label\` supplied to \`${pe}\`. Expected non-empty \`string\`.`;return new Error(o)}return null}};const pt="ToastViewport",ft=["F8"],re="toast.viewportPause",ne="toast.viewportResume",mt=t.forwardRef((e,o)=>{const{__scopeToast:r,hotkey:n=ft,label:i="Notifications ({hotkey})",...d}=e,f=J(pt,r),b=dt(r),x=t.useRef(null),a=t.useRef(null),P=t.useRef(null),y=t.useRef(null),O=le(o,y,f.onViewportChange),_=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=f.toastCount>0;t.useEffect(()=>{const c=h=>{var u;n.every($=>h[$]||h.code===$)&&((u=y.current)===null||u===void 0||u.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n]),t.useEffect(()=>{const c=x.current,h=y.current;if(D&&c&&h){const u=()=>{if(!f.isClosePausedRef.current){const T=new CustomEvent(re);h.dispatchEvent(T),f.isClosePausedRef.current=!0}},m=()=>{if(f.isClosePausedRef.current){const T=new CustomEvent(ne);h.dispatchEvent(T),f.isClosePausedRef.current=!1}},$=T=>{!c.contains(T.relatedTarget)&&m()},w=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",u),c.addEventListener("focusout",$),c.addEventListener("pointermove",u),c.addEventListener("pointerleave",w),window.addEventListener("blur",u),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",u),c.removeEventListener("focusout",$),c.removeEventListener("pointermove",u),c.removeEventListener("pointerleave",w),window.removeEventListener("blur",u),window.removeEventListener("focus",m)}}},[D,f.isClosePausedRef]);const p=t.useCallback(({tabbingDirection:c})=>{const u=b().map(m=>{const $=m.ref.current,w=[$,..._t($)];return c==="forwards"?w:w.reverse()});return(c==="forwards"?u.reverse():u).flat()},[b]);return t.useEffect(()=>{const c=y.current;if(c){const h=u=>{const m=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!m){const k=document.activeElement,F=u.shiftKey;if(u.target===c&&F){var w;(w=a.current)===null||w===void 0||w.focus();return}const R=p({tabbingDirection:F?"backwards":"forwards"}),j=R.findIndex(s=>s===k);if(oe(R.slice(j+1)))u.preventDefault();else{var T,C;F?(T=a.current)===null||T===void 0||T.focus():(C=P.current)===null||C===void 0||C.focus()}}};return c.addEventListener("keydown",h),()=>c.removeEventListener("keydown",h)}},[b,p]),t.createElement(He,{ref:x,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:D?void 0:"none"}},D&&t.createElement(ie,{ref:a,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"forwards"});oe(c)}}),t.createElement(se.Slot,{scope:r},t.createElement(U.ol,L({tabIndex:-1},d,{ref:O}))),D&&t.createElement(ie,{ref:P,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"backwards"});oe(c)}}))}),bt="ToastFocusProxy",ie=t.forwardRef((e,o)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,d=J(bt,r);return t.createElement(ue,L({"aria-hidden":!0,tabIndex:0},i,{ref:o,style:{position:"fixed"},onFocus:f=>{var b;const x=f.relatedTarget;!((b=d.viewport)!==null&&b!==void 0&&b.contains(x))&&n()}}))}),Q="Toast",vt="toast.swipeStart",$t="toast.swipeMove",xt="toast.swipeCancel",wt="toast.swipeEnd",Tt=t.forwardRef((e,o)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:d,...f}=e,[b=!0,x]=We({prop:n,defaultProp:i,onChange:d});return t.createElement(Ue,{present:r||b},t.createElement(be,L({open:b},f,{ref:o,onClose:()=>x(!1),onPause:G(e.onPause),onResume:G(e.onResume),onSwipeStart:S(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:S(e.onSwipeMove,a=>{const{x:P,y}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${P}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:S(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:S(e.onSwipeEnd,a=>{const{x:P,y}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${P}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),x(!1)})})))}),[ht,Et]=fe(Q,{onClose(){}}),be=t.forwardRef((e,o)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:d,onClose:f,onEscapeKeyDown:b,onPause:x,onResume:a,onSwipeStart:P,onSwipeMove:y,onSwipeCancel:O,onSwipeEnd:_,...D}=e,p=J(Q,r),[c,h]=t.useState(null),u=le(o,s=>h(s)),m=t.useRef(null),$=t.useRef(null),w=i||p.duration,T=t.useRef(0),C=t.useRef(w),k=t.useRef(0),{onToastAdd:F,onToastRemove:H}=p,A=G(()=>{var s;(c==null?void 0:c.contains(document.activeElement))&&((s=p.viewport)===null||s===void 0||s.focus()),f()}),R=t.useCallback(s=>{!s||s===1/0||(window.clearTimeout(k.current),T.current=new Date().getTime(),k.current=window.setTimeout(A,s))},[A]);t.useEffect(()=>{const s=p.viewport;if(s){const g=()=>{R(C.current),a==null||a()},N=()=>{const I=new Date().getTime()-T.current;C.current=C.current-I,window.clearTimeout(k.current),x==null||x()};return s.addEventListener(re,N),s.addEventListener(ne,g),()=>{s.removeEventListener(re,N),s.removeEventListener(ne,g)}}},[p.viewport,w,x,a,R]),t.useEffect(()=>{d&&!p.isClosePausedRef.current&&R(w)},[d,w,p.isClosePausedRef,R]),t.useEffect(()=>(F(),()=>H()),[F,H]);const j=t.useMemo(()=>c?we(c):null,[c]);return p.viewport?t.createElement(t.Fragment,null,j&&t.createElement(yt,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},j),t.createElement(ht,{scope:r,onClose:A},Xe.createPortal(t.createElement(se.ItemSlot,{scope:r},t.createElement(Be,{asChild:!0,onEscapeKeyDown:S(b,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1})},t.createElement(U.li,L({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":p.swipeDirection},D,{ref:u,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:S(e.onKeyDown,s=>{s.key==="Escape"&&(b==null||b(s.nativeEvent),s.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:S(e.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:S(e.onPointerMove,s=>{if(!m.current)return;const g=s.clientX-m.current.x,N=s.clientY-m.current.y,I=!!$.current,K=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=K?V(0,g):0,Z=K?0:V(0,N),B=s.pointerType==="touch"?10:2,W={x:Y,y:Z},M={originalEvent:s,delta:W};I?($.current=W,z($t,y,M,{discrete:!1})):de(W,p.swipeDirection,B)?($.current=W,z(vt,P,M,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(g)>B||Math.abs(N)>B)&&(m.current=null)}),onPointerUp:S(e.onPointerUp,s=>{const g=$.current,N=s.target;if(N.hasPointerCapture(s.pointerId)&&N.releasePointerCapture(s.pointerId),$.current=null,m.current=null,g){const I=s.currentTarget,K={originalEvent:s,delta:g};de(g,p.swipeDirection,p.swipeThreshold)?z(wt,_,K,{discrete:!0}):z(xt,O,K,{discrete:!0}),I.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})))),p.viewport))):null});be.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const o=`Invalid prop \`type\` supplied to \`${Q}\`. Expected \`foreground | background\`.`;return new Error(o)}return null}};const yt=e=>{const{__scopeToast:o,children:r,...n}=e,i=J(Q,o),[d,f]=t.useState(!1),[b,x]=t.useState(!1);return Nt(()=>f(!0)),t.useEffect(()=>{const a=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(a)},[]),b?null:t.createElement(ot,{asChild:!0},t.createElement(ue,n,d&&t.createElement(t.Fragment,null,i.label," ",r)))},gt=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e;return t.createElement(U.div,L({},n,{ref:o}))}),Pt=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e;return t.createElement(U.div,L({},n,{ref:o}))}),Ct="ToastAction",ve=t.forwardRef((e,o)=>{const{altText:r,...n}=e;return r?t.createElement(xe,{altText:r,asChild:!0},t.createElement($e,L({},n,{ref:o}))):null});ve.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${Ct}\``)}};const Rt="ToastClose",$e=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e,i=Et(Rt,r);return t.createElement(xe,{asChild:!0},t.createElement(U.button,L({type:"button"},n,{ref:o,onClick:S(e.onClick,i.onClose)})))}),xe=t.forwardRef((e,o)=>{const{__scopeToast:r,altText:n,...i}=e;return t.createElement(U.div,L({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},i,{ref:o}))});function we(e){const o=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&o.push(n.textContent),St(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const f=n.dataset.radixToastAnnounceAlt;f&&o.push(f)}else o.push(...we(n))}}),o}function z(e,o,r,{discrete:n}){const i=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});o&&i.addEventListener(e,o,{once:!0}),n?Ye(i,d):i.dispatchEvent(d)}const de=(e,o,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),d=n>i;return o==="left"||o==="right"?d&&n>r:!d&&i>r};function Nt(e=()=>{}){const o=G(e);qe(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[o])}function St(e){return e.nodeType===e.ELEMENT_NODE}function _t(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function oe(e){const o=document.activeElement;return e.some(r=>r===o?!0:(r.focus(),document.activeElement!==o))}const Dt=me,Te=mt,he=Tt,Ee=gt,ye=Pt,ge=ve,Pe=$e,Ft=Dt,Ce=t.forwardRef(({className:e,...o},r)=>l.jsx(Te,{ref:r,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...o}));Ce.displayName=Te.displayName;const At=Ze("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Re=t.forwardRef(({className:e,variant:o,...r},n)=>l.jsx(he,{ref:n,className:X(At({variant:o}),e),...r}));Re.displayName=he.displayName;const It=t.forwardRef(({className:e,...o},r)=>l.jsx(ge,{ref:r,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...o}));It.displayName=ge.displayName;const Ne=t.forwardRef(({className:e,...o},r)=>l.jsx(Pe,{ref:r,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...o,children:l.jsx(rt,{className:"h-4 w-4"})}));Ne.displayName=Pe.displayName;const Se=t.forwardRef(({className:e,...o},r)=>l.jsx(Ee,{ref:r,className:X("text-sm font-semibold",e),...o}));Se.displayName=Ee.displayName;const _e=t.forwardRef(({className:e,...o},r)=>l.jsx(ye,{ref:r,className:X("text-sm opacity-90",e),...o}));_e.displayName=ye.displayName;function Lt(){const{toasts:e}=nt();return l.jsxs(Ft,{children:[e.map(function({id:o,title:r,description:n,action:i,...d}){return l.jsxs(Re,{...d,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(Se,{children:r}),n&&l.jsx(_e,{children:n})]}),i,l.jsx(Ne,{})]},o)}),l.jsx(Ce,{})]})}const Wt=ze("/crm/dashboard")({component:kt});function kt(){const e=Ge.use.logout(),o=Je(),r=()=>{e(),o({to:"/crm/login"})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-2",children:[l.jsx(q,{to:"/crm/dashboard",className:"[&.active]:font-bold mr-auto",children:"Dashboard"}),l.jsx(et,{variant:"link",onClick:r,children:"Logout"})]}),l.jsx("hr",{}),l.jsx("br",{}),l.jsxs("div",{className:"container space-y-4",children:[l.jsxs("div",{className:"flex justify-start gap-4 px-4",children:[l.jsx(q,{to:"/crm/dashboard/",className:"[&.active]:font-bold",children:"list"}),l.jsx(q,{to:"/crm/dashboard/add",className:"[&.active]:font-bold",children:"add"}),l.jsx(q,{to:"/crm/dashboard/import",className:"[&.active]:font-bold",children:"import"})]}),l.jsx("div",{className:"overflow-hidden rounded-[0.5rem] border bg-background shadow-md md:shadow-xl p-8",children:l.jsx(Qe,{})})]}),l.jsx(Lt,{})]})}export{Wt as Route};
